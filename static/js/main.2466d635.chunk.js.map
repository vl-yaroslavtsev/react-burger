{"version":3,"sources":["components/app-header/header-item/header-item.module.css","pages/profile.module.css","services/hooks.ts","components/burger-ingredients/ingredient/ingredient.tsx","components/skeleton/skeleton.tsx","services/utils.ts","services/scrollbar.ts","services/api.ts","services/actions/ingredients.ts","components/burger-ingredients/burger-ingredients.tsx","images/done.svg","components/order-details/order-details.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","components/spinner/spinner.tsx","services/actions/constructor.ts","components/burger-constructor/drag-element/drag-element.tsx","services/actions/order.ts","components/burger-constructor/burger-constructor.tsx","pages/home.tsx","components/password-input/password-input.tsx","services/form.ts","services/actions/user.ts","services/auth.ts","pages/login.tsx","pages/register.tsx","pages/forgot-password.tsx","pages/reset-password.tsx","components/view-input/view-input.tsx","components/profile-form/profile-form.tsx","components/ingredient-avatar/ingredient-avatar.tsx","services/actions/ws-feed.ts","services/actions/ws-profile.ts","services/orders.ts","components/order-item/order-item.tsx","pages/profile.tsx","pages/feed.tsx","components/order-info/order-info.tsx","pages/order.tsx","components/ingredient-details/ingredient-details.tsx","pages/ingredient.tsx","pages/not-found.tsx","components/app-header/header-item/header-item.tsx","components/app-header/app-header.tsx","components/protected-route.tsx","components/unauthorized-route.tsx","components/ingredient-details-modal/ingredient-details-modal.tsx","components/order-info-modal/order-info-modal.tsx","components/app/app.tsx","reportWebVitals.ts","services/reducers/ingredients.ts","services/reducers/constructor.ts","services/reducers/order.ts","services/reducers/user.ts","services/reducers/ws-feed.ts","services/reducers/ws-profile.ts","services/reducers/index.ts","services/socket-middleware.ts","services/store.ts","index.tsx","pages/feed.module.css","components/burger-ingredients/burger-ingredients.module.css","components/app/app.module.css","components/burger-constructor/burger-constructor.module.css","components/order-item/order-item.module.css","components/order-info/order-info.module.css","pages/order.module.css","components/app-header/app-header.module.css","components/modal/modal.module.css","components/ingredient-details/ingredient-details.module.css","components/burger-ingredients/ingredient/ingredient.module.css","components/spinner/spinner.module.css","pages/register.module.css","pages/reset-password.module.css","components/profile-form/profile-form.module.css","components/ingredient-avatar/ingredient-avatar.module.css","components/skeleton/skeleton.module.css","components/order-details/order-details.module.css","components/modal-overlay/modal-overlay.module.css","components/burger-constructor/drag-element/drag-element.module.css","pages/login.module.css","pages/forgot-password.module.css","pages/ingredient.module.css"],"names":["module","exports","useDispatch","dispatchHook","useSelector","selectorHook","Ingredient","memo","className","item","count","onClick","name","price","image","useDrag","type","dragRef","cn","styles","container","e","ref","data-test-id","_id","size","src","width","height","alt","title","Skeleton","circle","repeat","tag","Tag","style","classNameTotal","skeleton","Array","fill","map","index","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","path","updatedCookie","encodeURIComponent","propName","propValue","deleteCookie","isEqual","obj1","obj2","p","hasOwnProperty","toString","formatPastDate","dateStr","today","setHours","setMinutes","setSeconds","date","timezone","getHours","getUTCHours","hours","padStart","minutes","getMinutes","past","toLocaleDateString","days","Math","ceil","n","text_forms","n1","abs","declensionOfNum","timingFunctions","linear","k","easeIn","pow","easeOut","easeInOut","sin","PI","animate","timing","draw","duration","start","performance","now","timingFunc","Promise","resolve","requestAnimationFrame","time","timeFraction","progress","usePrevious","useRef","useEffect","current","useScrollbar","arrExclude","exclude","maxHeight","isInModal","useLayoutEffect","el","bottom","reduce","acc","getComputedStyle","offsetHeight","parseInt","marginTop","marginBottom","modalFix","top","getBoundingClientRect","aroundSpace","classList","add","appStyles","customScrollbar","remove","API_URL","routes","ingredients","orders","auth","login","register","logout","token","user","password","resetCheck","reset","translate","msg","checkResponse","res","a","json","success","message","ok","Error","status","fetchPost","url","params","fetch","method","headers","body","JSON","stringify","setTokens","accessToken","refreshToken","split","localStorage","setItem","getItem","data","fetchWithRefresh","options","Authorization","loadIngredients","checkoutOrder","items","removeItem","checkResetPassword","resetPassword","loadUser","updateUser","id","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_ERROR","getIngredients","dispatch","GROUP_NAME","bun","sauce","main","BurgerIngredients","useState","currentTab","setCurrentTab","location","useLocation","store","error","itemsErrorMessage","loading","itemsRequest","construct","constructorItems","bunItem","ingredientsRef","counterMap","useMemo","filter","length","root","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","section","target","dataset","group","rootMargin","sections","querySelectorAll","observe","unobserve","ingredientList","ingredient","tabs","Object","key","active","tab","querySelector","startScroll","scrollTop","endScroll","offsetTop","scrollToTabSection","data-group","to","pathname","state","background","OrderDetails","orderNumber","statusIcon","ModalOverlay","visible","onClose","hidden","modalRoot","getElementById","visibleModals","Modal","children","header","modal","closeVisible","push","indexOf","splice","keyDownHandler","addEventListener","removeEventListener","createPortal","closeButton","content","Spinner","stroke","center","radius","spinner","spinnerCenter","viewBox","cx","cy","r","strokeWidth","ADD_CONSTRUCTOR_INGREDIENT","REMOVE_CONSTRUCTOR_INGREDIENT","REORDER_CONSTRUCTOR_INGREDIENTS","CLEAR_CONSTRUCTOR","DragElement","onDelete","isHoverTop","setHoverTop","isTransition","setTransition","element","opacity","collect","monitor","isDrag","isDragging","dragTargetRef","useDrop","accept","drop","hoverIndex","dropIndex","hover","clientRect","offset","getSourceClientOffset","y","isOver","didDrop","dropTargetRef","prevIsDrag","overLeave","dragLeave","display","paddingBottom","paddingTop","transitionDuration","dragItem","text","thumbnail","handleClose","CHECKOUT_ORDER_REQUEST","CHECKOUT_ORDER_SUCCESS","CHECKOUT_ORDER_ERROR","CLEAR_ORDER","BurgerConstructor","isOrderShown","setOrderShown","totalPrice","order","number","orderLoading","checkoutRequest","orderError","checkoutErrorMessage","elementOnDelete","useCallback","zIndex","then","orderModalOnClose","canDrop","dropIngredientsRef","listRef","bottomBunRef","footerRef","history","useHistory","elements","dragMessage","dragMessageOver","isLocked","elementsScroll","footer","getState","ids","HomePage","DndProvider","backend","HTML5Backend","PasswordInput","isValueHidden","setValueHidden","inputRef","handleIconClick","pos","selectionStart","setTimeout","focus","setSelectionRange","icon","onIconClick","emailRegExp","validationRules","required","email","test","String","toLowerCase","minLength","param","validate","rules","ruleName","ruleParam","validateAll","values","errors","keys","useFormSubmit","onSubmit","setValues","validation","setValidation","setData","setError","setLoading","prevDataRef","rulesRef","handleChange","handleSubmit","preventDefault","some","dataChanged","onChange","errorText","GET_USER_REQUEST","GET_USER_SUCCESS","GET_USER_ERROR","SET_USER","CLEAR_USER","useAuth","userRequest","userSuccess","userErrorMessage","userLoaded","signIn","signOut","LoginPage","from","placeholder","disabled","RegisterPage","callRegister","ForgotPasswordPage","ResetPasswordPage","ViewInput","setValue","isEditMode","setEditMode","iconClick","onBlur","ProfileForm","footerVisible","createSetValue","form","formFooter","IngredientAvatar","ingredientImage","ingredientFg","WS_FEED_CONNECTION_START","WS_FEED_CONNECTION_CLOSE","WS_FEED_CONNECTION_SUCCESS","WS_FEED_CONNECTION_CLOSED","WS_FEED_CONNECTION_ERROR","WS_FEED_GET_MESSAGE","WS_PROFILE_CONNECTION_START","WS_PROFILE_CONNECTION_CLOSE","WS_PROFILE_CONNECTION_SUCCESS","WS_PROFILE_CONNECTION_CLOSED","WS_PROFILE_CONNECTION_ERROR","WS_PROFILE_GET_MESSAGE","useIngredientsMap","getFullOrder","ingredientsMap","result","found","find","total","statusMap","created","pending","done","canceled","translateStatus","useOrders","ordersList","useOrderLoad","serverOrder","setServerOrder","setOrder","setOrderLoading","setOrderError","ingredientsError","ingredientsLoading","loadOrderById","catch","err","finally","Ingredients","list","slice","rest","OrderItem","useRouteMatch","createdAt","statusDone","Menu","menu","exact","menuItem","activeClassName","menuItemActive","menuFooter","Logout","logoutError","setLogoutError","OrderList","orderListRef","profile","ordersError","wsError","sort","b","useProfileOrders","orderList","skeletonOrder","ProfilePage","StatisticGridItem","complete","statisticGridItem","statisticGridItemList","FeedPage","statisticRef","feed","totalToday","completeNumbers","progressNumbers","useFeedOrders","statistic","statisticGrid","textSpaceShadow","ingredientName","OrderInfo","OrderPage","useParams","IngredientDetails","imageLoading","isLoading","loadImage","img","Image","reject","onload","onerror","useImageLoading","image_large","imagePreloader","calories","proteins","fat","carbohydrates","IngredientPage","NotFound404","textAlign","HeaderItem","Icon","text_color_inactive","AppHeader","contentItem","navigation","BurgerIcon","ListIcon","contentItemCenter","contentItemRight","ProfileIcon","ProtectedRoute","render","UnauthorizedRoute","IngredientDetailsModal","modalOnClose","goBack","OrderInfoModal","feedOrders","profileOrders","startsWith","Number","App","action","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ingredientsState","itemsSuccess","countTotalPrice","prev","constructorState","orderState","checkoutSuccess","userState","initialState","wsConnected","rootReducer","combineReducers","dropItem","payload","socketMiddleware","wsUrl","wsActions","useToken","socket","next","wsInit","wsClose","wsSendMessage","onOpen","onError","onMessage","WebSocket","onopen","event","onmessage","parsedData","parse","restParsedData","close","onclose","send","wsFeedOrders","actions","wsProfileOrders","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","ReactDOM","StrictMode","basename"],"mappings":"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","file":"static/js/main.2466d635.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header-item_container__rqenJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"profile_container__2srQK\",\"menu\":\"profile_menu__1__XZ\",\"menuItem\":\"profile_menuItem__lVgDN\",\"menuItemActive\":\"profile_menuItemActive__a_SQV\",\"menuFooter\":\"profile_menuFooter__27Xhl\",\"orderList\":\"profile_orderList__3X4Yq\",\"error\":\"profile_error__3jZER\",\"skeletonOrder\":\"profile_skeletonOrder__2z85r\"};","import {\n  TypedUseSelectorHook,\n  useDispatch as dispatchHook,\n  useSelector as selectorHook,\n} from \"react-redux\";\nimport { AppDispatch, RootState, AppThunk } from \"./types\";\n\nexport const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\n","import styles from \"./ingredient.module.css\";\n\nimport { memo } from \"react\";\nimport cn from \"classnames\";\nimport {\n  Counter,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDrag } from \"react-dnd\";\nimport { IIngredient } from \"../../../services/types/data\";\n\ninterface IIngredientProps {\n  className?: string;\n  onClick?: (e: React.MouseEvent, item: IIngredient) => void;\n  item: IIngredient;\n  count?: number;\n}\n\nconst Ingredient: React.FC<IIngredientProps> = memo(\n  ({ className, item, count = 0, onClick = () => {} }) => {\n    const { name, price, image } = item;\n    const handleClick = (e: React.MouseEvent) => onClick(e, item);\n    const [, dragRef] = useDrag({\n      type: \"ingredient\",\n      item,\n    });\n    return (\n      <section\n        className={cn(styles.container, className)}\n        onClick={handleClick}\n        ref={dragRef}\n        data-test-id={`ingredient-${item._id}`}\n      >\n        {count > 0 && <Counter count={count} size=\"default\" />}\n        <img src={image} width={240} height={120} className=\"mb-1\" alt={name} />\n        <p className={cn(styles.price, \"text text_type_digits-default mb-1\")}>\n          <span className=\"mr-2\">{price}</span>\n          <CurrencyIcon type=\"primary\" />\n        </p>\n        <p className={cn(styles.title, \"text text_type_main-default\")}>\n          {name}\n        </p>\n      </section>\n    );\n  }\n);\n\nexport default Ingredient;\n","import cn from \"classnames\";\n\nimport styles from \"./skeleton.module.css\";\n\ninterface ISkeletonProps {\n  width?: number | string;\n  height?: number | string;\n  className?: string;\n  circle?: boolean;\n  repeat?: number;\n  tag?: keyof JSX.IntrinsicElements;\n}\n\nconst Skeleton: React.FC<ISkeletonProps> = ({\n  width,\n  height,\n  className,\n  circle = false,\n  repeat = 1,\n  tag: Tag = \"div\",\n}) => {\n  const style = {\n    ...(width ? { width } : {}),\n    ...(circle ? { height: width } : {}),\n    ...(height ? { height } : {}),\n  };\n\n  const classNameTotal = cn(styles.skeleton, className, {\n    [styles.circle]: circle,\n  });\n\n  if (repeat > 1) {\n    return (\n      <>\n        {Array(repeat)\n          .fill(null)\n          .map((item, index) => (\n            <Tag key={index} className={classNameTotal} style={{ ...style }}>\n              &nbsp;\n            </Tag>\n          ))}\n      </>\n    );\n  }\n\n  return (\n    <Tag className={classNameTotal} style={{ ...style }}>\n      &nbsp;\n    </Tag>\n  );\n};\n\nexport default Skeleton;\n","import { useEffect, useRef } from \"react\";\n\nexport function getCookie(name: string) {\n  const matches = document.cookie.match(\n    new RegExp(\n      \"(?:^|; )\" + name.replace(/([.$?*|{}()[]\\\\\\/+^])/g, \"\\\\$1\") + \"=([^;]*)\"\n    )\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport function setCookie(\n  name: string,\n  value: string,\n  props: {\n    expires?: number | Date | string;\n    path?: string;\n  } = {}\n) {\n  let exp = props.expires;\n  if (typeof exp == \"number\" && exp) {\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n  if (exp && exp instanceof Date) {\n    props.expires = exp.toUTCString();\n  }\n  props.path = \"/\";\n  value = encodeURIComponent(value);\n  let updatedCookie = name + \"=\" + value;\n  for (const propName in props) {\n    updatedCookie += \"; \" + propName;\n    const propValue = (props as { [key: string]: string | boolean })[propName];\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue;\n    }\n  }\n  document.cookie = updatedCookie;\n}\n\nexport function deleteCookie(name: string) {\n  setCookie(name, \"\", { expires: -1 });\n}\n\nexport function isEqual(obj1: any, obj2: any) {\n  // Цикл через свойства объекта obj1\n  for (const p in obj1) {\n    //Проверка на то, что оба объекта существуют\n    if (obj1.hasOwnProperty(p) !== obj2.hasOwnProperty(p)) return false;\n\n    switch (typeof obj1[p]) {\n      // Глубокое сравнение объектов по ключам и значения:\n      case \"object\":\n        if (!isEqual(obj1[p], obj2[p])) return false;\n        break;\n      // Сравнение данных типа function:\n      case \"function\":\n        if (\n          typeof obj2[p] == \"undefined\" ||\n          (p !== \"compare\" && obj1[p].toString() !== obj2[p].toString())\n        )\n          return false;\n        break;\n      // Сравнение значений:\n      default:\n        if (obj1[p] !== obj2[p]) return false;\n    }\n  }\n\n  // Проверка объекта obj2 на дополнительные свойства:\n  for (const p in obj2) {\n    if (typeof obj1[p] == \"undefined\") return false;\n  }\n  return true;\n}\n\n/**\n * Склонение существительного с числом\n * @param {*} n число\n * @param {Array} text_forms существительной в формате [один, два, пять]\n * @returns\n */\nfunction declensionOfNum(n: number, text_forms: [string, string, string]) {\n  n = Math.abs(n) % 100;\n  var n1 = n % 10;\n  if (n > 10 && n < 20) {\n    return text_forms[2];\n  }\n  if (n1 > 1 && n1 < 5) {\n    return text_forms[1];\n  }\n  if (n1 === 1) {\n    return text_forms[0];\n  }\n  return text_forms[2];\n}\n\nexport function formatPastDate(dateStr: string) {\n  const today = new Date();\n  today.setHours(0);\n  today.setMinutes(0);\n  today.setSeconds(0);\n\n  const date = new Date(dateStr);\n  const timezone = date.getHours() - date.getUTCHours();\n  const hours = date.getHours().toString().padStart(2, \"0\");\n  const minutes = date.getMinutes().toString().padStart(2, \"0\");\n\n  let past = \"\";\n\n  if (date.getTime() > today.getTime() + 24 * 3600 * 1000) {\n    past = date.toLocaleDateString();\n  } else if (date > today) {\n    past = \"Сегодня\";\n  } else if (date.getTime() > today.getTime() - 24 * 3600 * 1000) {\n    past = \"Вчера\";\n  } else {\n    const days = Math.ceil(\n      (today.getTime() - date.getTime()) / (24 * 3600 * 1000)\n    );\n    past = `${days} ${declensionOfNum(days, [\"день\", \"дня\", \"дней\"])} назад`;\n  }\n\n  return `${past}, ${hours}:${minutes} i-GMT${\n    timezone > 0 ? \"+\" : \"\"\n  }${timezone}`;\n}\n\nexport const timingFunctions = {\n  linear(k: number) {\n    return k;\n  },\n  easeIn(k: number) {\n    return Math.pow(k, 1.675);\n  },\n  easeOut(k: number) {\n    return 1 - Math.pow(1 - k, 1.675);\n  },\n  easeInOut(k: number) {\n    return 0.5 * (Math.sin((k - 0.5) * Math.PI) + 1);\n  },\n};\n\ninterface IAnimateProps {\n  timing?: keyof typeof timingFunctions;\n  draw: (step: number) => void;\n  duration: number;\n}\n\nexport function animate({\n  timing = \"easeInOut\",\n  draw,\n  duration,\n}: IAnimateProps) {\n  const start = performance.now();\n  const timingFunc = timingFunctions[timing];\n\n  return new Promise((resolve) => {\n    requestAnimationFrame(function animate(time) {\n      // timeFraction изменяется от 0 до 1\n      let timeFraction = (time - start) / duration;\n      if (timeFraction > 1) timeFraction = 1;\n      if (timeFraction < 0) timeFraction = 0;\n\n      // вычисление текущего состояния анимации\n      const progress = timingFunc(timeFraction);\n\n      draw(progress); // отрисовать её\n\n      if (timeFraction < 1) {\n        requestAnimationFrame(animate);\n      } else {\n        resolve(true);\n      }\n    });\n  });\n}\n\n// Хук: получаем предыдущее значение пропса или состояния\nexport function usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n","import { RefObject, useLayoutEffect } from \"react\";\nimport appStyles from \"../components/app/app.module.css\";\n\ninterface IUseScrollbarExtraParams {\n  exclude?: RefObject<HTMLElement> | RefObject<HTMLElement>[];\n  props?: any[];\n  maxHeight?: number;\n  isInModal?: boolean;\n}\n\nexport function useScrollbar(\n  ref: RefObject<HTMLElement>,\n  {\n    exclude = [],\n    props = [],\n    maxHeight,\n    isInModal,\n  }: IUseScrollbarExtraParams = {}\n) {\n  let arrExclude: RefObject<HTMLElement>[];\n\n  if (exclude instanceof Array) {\n    arrExclude = exclude;\n  } else {\n    arrExclude = [exclude];\n  }\n\n  useLayoutEffect(() => {\n    const el = ref.current;\n\n    if (!el) return;\n\n    const bottom = arrExclude.reduce((acc, ref) => {\n      const el = ref.current;\n      if (!el) return acc;\n      const style = getComputedStyle(el);\n\n      return (\n        acc +\n        el.offsetHeight +\n        parseInt(style.marginTop) +\n        parseInt(style.marginBottom)\n      );\n    }, 0);\n    const modalFix = isInModal ? \"(5vh + 41px)\" : \"0px\";\n    const { top } = el.getBoundingClientRect();\n    const aroundSpace = `(${modalFix} + ${Math.ceil(top + bottom)}px)`;\n    if (maxHeight) {\n      el.style.maxHeight = `calc(min(100vh - ${aroundSpace}, \n      ${maxHeight}px))`;\n    } else {\n      el.style.maxHeight = `calc(100vh - ${aroundSpace})`;\n    }\n    el.classList.add(appStyles.customScrollbar);\n\n    return () => {\n      el.classList.remove(appStyles.customScrollbar);\n      el.style.maxHeight = \"\";\n    };\n  }, [ref, maxHeight, isInModal, arrExclude, ...props]);\n}\n","import { IIngredient, IOrder, IUser } from \"./types/data\";\nimport { getCookie, setCookie, deleteCookie } from \"./utils\";\n\ninterface IDataResponse {\n  success: boolean;\n  message?: string;\n}\n\nconst API_URL = \"https://norma.nomoreparties.space/api\";\nexport const routes = {\n  ingredients: `${API_URL}/ingredients`,\n  orders: `${API_URL}/orders`,\n  auth: {\n    login: `${API_URL}/auth/login`,\n    register: `${API_URL}/auth/register`,\n    logout: `${API_URL}/auth/logout`,\n    token: `${API_URL}/auth/token`,\n    user: `${API_URL}/auth/user`,\n  },\n  password: {\n    resetCheck: `${API_URL}/password-reset`,\n    reset: `${API_URL}/password-reset/reset`,\n  },\n};\n\nfunction translate(msg?: string) {\n  switch (msg) {\n    case \"email or password are incorrect\":\n      return \"Введены неверные Email или пароль\";\n    case \"Incorrect reset token\":\n      return \"Неверный токен для сброса пароля\";\n    default:\n      return msg;\n  }\n}\n\nasync function checkResponse<IData = object>(res: Response) {\n  let json: (IDataResponse & IData) | null = null;\n  try {\n    json = await res.json();\n  } catch (ex) {}\n\n  if (json && !json.success) {\n    json.message = translate(json.message);\n    throw json;\n  }\n\n  if (!res.ok) {\n    throw new Error(`Статус: ${res.status}`);\n  }\n\n  if (!json) {\n    throw new Error(`Ошибка парсинга ответа`);\n  }\n\n  return json;\n}\n\nasync function fetchPost<IData>(url: string, params: object) {\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(params),\n  });\n\n  return checkResponse<IData>(res);\n}\n\nfunction setTokens({\n  accessToken,\n  refreshToken,\n}: {\n  accessToken: string;\n  refreshToken: string;\n}) {\n  if (accessToken) {\n    accessToken = accessToken.split(\"Bearer \")[1];\n    setCookie(\"accessToken\", accessToken);\n  }\n  localStorage.setItem(\"refreshToken\", refreshToken);\n}\n\nexport async function refreshToken() {\n  const data = await fetchPost<{\n    accessToken: string;\n    refreshToken: string;\n  }>(routes.auth.token, {\n    token: localStorage.getItem(\"refreshToken\"),\n  });\n  setTokens(data);\n  return data;\n}\n\nasync function fetchWithRefresh<IData>(\n  url: string,\n  { params = {}, method = \"GET\" } = {}\n): Promise<IData> {\n  try {\n    const options: RequestInit = {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + getCookie(\"accessToken\"),\n      },\n    };\n    if (method !== \"GET\") {\n      options.body = JSON.stringify(params);\n    }\n\n    const res = await fetch(url, options);\n    return await checkResponse<IData>(res);\n  } catch (err) {\n    if (err.message === \"jwt expired\") {\n      await refreshToken();\n      return fetchWithRefresh<IData>(url, { params, method });\n    } else {\n      throw err;\n    }\n  }\n}\n\nexport async function loadIngredients() {\n  const res = await fetch(routes.ingredients);\n  const json = await checkResponse<{ data: IIngredient[] }>(res);\n  return json.data;\n}\n\nexport async function checkoutOrder(items: string[] = []) {\n  return await fetchWithRefresh<{ order: IOrder }>(routes.orders, {\n    method: \"POST\",\n    params: { ingredients: items },\n  });\n}\n\nexport async function login(params: { email: string; password: string }) {\n  const data = await fetchPost<{\n    refreshToken: string;\n    accessToken: string;\n    user: IUser;\n  }>(routes.auth.login, params);\n  setTokens(data);\n  return data;\n}\n\nexport async function logout() {\n  const data = await fetchPost(routes.auth.logout, {\n    token: localStorage.getItem(\"refreshToken\"),\n  });\n  deleteCookie(\"accessToken\");\n  localStorage.removeItem(\"refreshToken\");\n  return data;\n}\n\nexport async function register(params: {\n  email: string;\n  password: string;\n  name: string;\n}) {\n  return await fetchPost(routes.auth.register, params);\n}\n\nexport async function checkResetPassword(params: { email: string }) {\n  return await fetchPost(routes.password.resetCheck, params);\n}\n\nexport async function resetPassword(params: {\n  password: string;\n  token: string;\n}) {\n  return await fetchPost(routes.password.reset, params);\n}\n\nexport async function loadUser() {\n  return await fetchWithRefresh<{ user: IUser }>(routes.auth.user);\n}\n\nexport async function updateUser(params: {\n  email: string;\n  password: string;\n  name: string;\n}) {\n  return await fetchWithRefresh<{ user: IUser }>(routes.auth.user, {\n    method: \"PATCH\",\n    params,\n  });\n}\n\nexport async function loadOrderById(id: string) {\n  const res = await fetch(`${routes.orders}/${id}`);\n  const json = await checkResponse<{ orders: IOrder[] }>(res);\n  return json.orders[0];\n}\n","import { loadIngredients } from \"../api\";\nimport { AppDispatch, AppThunk } from \"../types\";\nimport { IIngredient } from \"../types/data\";\n\nexport const GET_INGREDIENTS_REQUEST: \"GET_INGREDIENTS_REQUEST\" =\n  \"GET_INGREDIENTS_REQUEST\";\nexport const GET_INGREDIENTS_SUCCESS: \"GET_INGREDIENTS_SUCCESS\" =\n  \"GET_INGREDIENTS_SUCCESS\";\nexport const GET_INGREDIENTS_ERROR: \"GET_INGREDIENTS_ERROR\" =\n  \"GET_INGREDIENTS_ERROR\";\n\nexport type IGetIngredientsRequestAction = {\n  readonly type: typeof GET_INGREDIENTS_REQUEST;\n};\n\nexport interface IGetIngredientsSuccessAction {\n  readonly type: typeof GET_INGREDIENTS_SUCCESS;\n  readonly items: IIngredient[];\n}\n\nexport interface IGetIngredientsErrorAction {\n  readonly type: typeof GET_INGREDIENTS_ERROR;\n  readonly message: string;\n}\n\nexport type TIngredientsActions =\n  | IGetIngredientsRequestAction\n  | IGetIngredientsSuccessAction\n  | IGetIngredientsErrorAction;\n\nexport const getIngredients: AppThunk = () => async (dispatch: AppDispatch) => {\n  dispatch({\n    type: GET_INGREDIENTS_REQUEST,\n  });\n  try {\n    const items = await loadIngredients();\n    dispatch({\n      type: GET_INGREDIENTS_SUCCESS,\n      items,\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_INGREDIENTS_ERROR,\n      message: err.message,\n    });\n  }\n};\n","import styles from \"./burger-ingredients.module.css\";\n\nimport { useState, useRef, useEffect, useLayoutEffect, useMemo } from \"react\";\nimport { useSelector, useDispatch } from \"../../services/hooks\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport cn from \"classnames\";\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport Ingredient from \"./ingredient/ingredient\";\nimport Skeleton from \"../skeleton/skeleton\";\nimport { animate } from \"../../services/utils\";\nimport { useScrollbar } from \"../../services/scrollbar\";\n\nimport { getIngredients } from \"../../services/actions/ingredients\";\nimport { isReturnStatement } from \"typescript\";\n\nconst GROUP_NAME = {\n  bun: \"Булки\",\n  sauce: \"Соусы\",\n  main: \"Начинки\",\n};\n\nconst BurgerIngredients: React.FC = () => {\n  const [currentTab, setCurrentTab] = useState(\"bun\");\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  const {\n    items: ingredients,\n    itemsErrorMessage: error,\n    itemsRequest: loading,\n  } = useSelector((store) => store.ingredients);\n\n  const { items: constructorItems, bunItem } = useSelector(\n    (store) => store.construct\n  );\n\n  const ingredientsRef = useRef<HTMLUListElement>(null);\n  useScrollbar(ingredientsRef);\n\n  const counterMap = useMemo(\n    () =>\n      ingredients.reduce((map: { [key: string]: number }, item) => {\n        if (bunItem && item._id === bunItem._id) {\n          map[item._id] = 2;\n          return map;\n        }\n\n        map[item._id] = constructorItems.filter(\n          ({ _id }) => _id === item._id\n        ).length;\n        return map;\n      }, {}),\n    [ingredients, constructorItems, bunItem]\n  );\n\n  useLayoutEffect(() => {\n    if (ingredients.length === 0) {\n      dispatch(getIngredients());\n    }\n  }, [dispatch, ingredients.length]);\n\n  const scrollToTabSection = (tab: string) => {\n    const el = ingredientsRef.current;\n\n    if (!el) {\n      return;\n    }\n\n    const section: HTMLElement | null = el.querySelector(\n      `[data-group=\"${tab}\"]`\n    );\n    const startScroll = el.scrollTop;\n    const endScroll = section?.offsetTop || 0;\n\n    animate({\n      draw(progress) {\n        el.scrollTop = startScroll + (endScroll - startScroll) * progress;\n      },\n      duration: 400,\n    });\n  };\n\n  useEffect(() => {\n    const root = ingredientsRef.current;\n    if (!root) {\n      return;\n    }\n    const height = root.offsetHeight;\n    const observer = new IntersectionObserver(\n      (entries, observer) => {\n        entries.forEach((entry) => {\n          // если элемент является наблюдаемым\n          if (entry.isIntersecting) {\n            const section = entry.target as HTMLElement;\n            setCurrentTab(section.dataset.group || \"bun\");\n          }\n        });\n      },\n      {\n        root,\n        rootMargin: `-130px 0px ${130 - height}px 0px`,\n      }\n    );\n\n    const sections = root.querySelectorAll(\"[data-group]\");\n    sections.forEach((section) => observer.observe(section));\n\n    return () => sections.forEach((section) => observer.unobserve(section));\n  }, [ingredients]);\n\n  const skeleton = useMemo(\n    () => (\n      <ul\n        className={cn(styles.ingredients, \"mt-10\")}\n        data-test-id=\"ingredients-skeleton\"\n      >\n        <li>\n          <Skeleton width={100} className=\"text text_type_main-medium\" />\n          <div className={cn(styles.ingredientList, \"pl-4 pr-4 pt-6 pb-2\")}>\n            <Skeleton\n              height={200}\n              repeat={2}\n              className={cn(styles.ingredient, \"mb-8 mt-4\")}\n            />\n          </div>\n        </li>\n      </ul>\n    ),\n    []\n  );\n\n  return (\n    <section className={cn(styles.container, \"mr-10\")}>\n      <h1 className=\"text text_type_main-large text mt-10 mb-5\">\n        Соберите бургер\n      </h1>\n      <section className={styles.tabs}>\n        {Object.entries(GROUP_NAME).map(([key, value]) => {\n          return (\n            <Tab\n              key={key}\n              value={key}\n              active={key === currentTab}\n              onClick={() => scrollToTabSection(key)}\n            >\n              {value}\n            </Tab>\n          );\n        })}\n      </section>\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default mt-15\")}>\n          Что-то пошло не так. Попробуйте зайти еще раз позже. {error}\n        </p>\n      )}\n      {loading && skeleton}\n      <ul className={cn(styles.ingredients, \"mt-10\")} ref={ingredientsRef}>\n        {useMemo(\n          () =>\n            ingredients.length > 0 &&\n            Object.entries(GROUP_NAME).map(([key, value]) => {\n              return (\n                <li key={key} data-group={key}>\n                  <h2 className=\"text text_type_main-medium\">{value}</h2>\n                  <ul\n                    className={cn(styles.ingredientList, \"pl-4 pr-4 pt-6 pb-2\")}\n                  >\n                    {ingredients\n                      .filter(({ type }) => type === key)\n                      .map((item, index) => {\n                        return (\n                          <li\n                            className={cn(styles.ingredient, \"mb-8\")}\n                            key={item._id}\n                          >\n                            <Link\n                              to={{\n                                pathname: `/ingredients/${item._id}`,\n                                state: { background: location },\n                              }}\n                            >\n                              <Ingredient\n                                count={counterMap[item._id]}\n                                item={item}\n                              />\n                            </Link>\n                          </li>\n                        );\n                      })}\n                  </ul>\n                </li>\n              );\n            }),\n          [location, ingredients, counterMap]\n        )}\n      </ul>\n    </section>\n  );\n};\n\nexport default BurgerIngredients;\n","export default __webpack_public_path__ + \"static/media/done.7341dd32.svg\";","import cn from \"classnames\";\nimport statusIcon from \"../../images/done.svg\";\n\nimport styles from \"./order-details.module.css\";\n\ninterface IOrderDetailsProps {\n  orderNumber: number;\n}\n\nconst OrderDetails: React.FC<IOrderDetailsProps> = ({ orderNumber }) => {\n  return (\n    <div className={cn(styles.container, \"pl-15 pr-15 pb-20\")}>\n      <h1 className={cn(styles.title, \"text text_type_digits-large mt-4 mb-8\")}>\n        {orderNumber}\n      </h1>\n      <p className=\"text text_type_main-medium mb-15\">Идентификатор заказа</p>\n      <img\n        width=\"120\"\n        height=\"120\"\n        src={statusIcon}\n        alt=\"Заказ зарегистрирован\"\n      />\n      <p className=\"text text_type_main-default mt-15 mb-2\">\n        Ваш заказ начали готовить\n      </p>\n      <p className=\"text text_type_main-default text_color_inactive\">\n        Дождитесь готовности на орбитальной станции\n      </p>\n    </div>\n  );\n};\n\nexport default OrderDetails;\n","import cn from \"classnames\";\nimport styles from \"./modal-overlay.module.css\";\n\ninterface IModalOverlayProps {\n  visible?: boolean;\n  onClose?: () => void;\n}\n\nconst ModalOverlay: React.FC<IModalOverlayProps> = ({\n  visible = false,\n  onClose = () => {},\n}) => {\n  return (\n    <div\n      className={cn(styles.container, { [styles.hidden]: !visible })}\n      onClick={onClose}\n    ></div>\n  );\n};\n\nexport default ModalOverlay;\n","import { useEffect, useRef, memo, ReactNode } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport cn from \"classnames\";\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport styles from \"./modal.module.css\";\n\nimport ModalOverlay from \"../modal-overlay/modal-overlay\";\n\nconst modalRoot = document.getElementById(\"react-modals\") as HTMLElement;\nconst ESC_KEY = \"Escape\";\n\nconst visibleModals: React.MutableRefObject<undefined>[] = [];\n\ninterface IModalProps {\n  children: ReactNode;\n  header?: ReactNode;\n  visible?: boolean;\n  onClose?: () => void;\n}\nconst Modal: React.FC<IModalProps> = memo(\n  ({ children, header = \"\", visible = false, onClose }) => {\n    const modal = useRef();\n    const closeVisible = !!onClose;\n\n    useEffect(() => {\n      if (visible) {\n        visibleModals.push(modal);\n      } else {\n        const index = visibleModals.indexOf(modal);\n        visibleModals.splice(index, 1);\n      }\n    }, [visible]);\n\n    // Если открыто несколько модальных окон, закрываем по ESC только самое верхнее\n    useEffect(() => {\n      const keyDownHandler = (e: KeyboardEvent) => {\n        if (\n          e.key === ESC_KEY &&\n          visibleModals[visibleModals.length - 1] === modal &&\n          onClose\n        ) {\n          onClose();\n        }\n      };\n\n      if (visible) {\n        document.addEventListener(\"keydown\", keyDownHandler);\n      }\n\n      return () => {\n        document.removeEventListener(\"keydown\", keyDownHandler);\n      };\n    }, [onClose, visible]);\n\n    return createPortal(\n      <>\n        <ModalOverlay visible={visible} onClose={onClose} />\n        <div\n          className={cn(styles.container, \"pt-10 pl-10 pr-10 pb-10\", {\n            [styles.hidden]: !visible,\n          })}\n        >\n          <h1 className={cn(styles.title, \"text text_type_main-large pr-7\")}>\n            {header}\n          </h1>\n          {closeVisible && (\n            <div className={styles.closeButton}>\n              <CloseIcon type=\"primary\" onClick={onClose} />\n            </div>\n          )}\n          <section className={cn(styles.content)}>{children}</section>\n        </div>\n      </>,\n      modalRoot\n    );\n  }\n);\n\nexport default Modal;\n","import cn from \"classnames\";\n\nimport styles from \"./spinner.module.css\";\n\ninterface ISpinnerProps {\n  size?: number;\n  stroke?: number;\n  className?: string;\n  center?: boolean;\n}\n\nconst Spinner: React.FC<ISpinnerProps> = ({\n  size = 50,\n  stroke = 3,\n  className,\n  center = false,\n}) => {\n  const radius = 0.4 * size;\n\n  return (\n    <svg\n      className={cn(\n        styles.spinner,\n        { [styles.spinnerCenter]: center },\n        className\n      )}\n      style={{ width: size, height: size }}\n      viewBox={`0 0 ${size} ${size}`}\n    >\n      <circle\n        className={styles.circle}\n        cx={size / 2}\n        cy={size / 2}\n        r={radius}\n        fill=\"none\"\n        strokeWidth={stroke}\n      ></circle>\n    </svg>\n  );\n};\n\nexport default Spinner;\n","import { IIngredient, IConstructorIngredient } from \"../types/data\";\n\nexport const ADD_CONSTRUCTOR_INGREDIENT: \"ADD_CONSTRUCTOR_INGREDIENT\" =\n  \"ADD_CONSTRUCTOR_INGREDIENT\";\nexport const REMOVE_CONSTRUCTOR_INGREDIENT: \"REMOVE_CONSTRUCTOR_INGREDIENT\" =\n  \"REMOVE_CONSTRUCTOR_INGREDIENT\";\nexport const REORDER_CONSTRUCTOR_INGREDIENTS: \"REORDER_CONSTRUCTOR_INGREDIENTS\" =\n  \"REORDER_CONSTRUCTOR_INGREDIENTS\";\nexport const CLEAR_CONSTRUCTOR: \"CLEAR_CONSTRUCTOR\" = \"CLEAR_CONSTRUCTOR\";\n\nexport interface IAddConstructorIngredientAction {\n  readonly type: typeof ADD_CONSTRUCTOR_INGREDIENT;\n  readonly item: IIngredient;\n}\n\nexport interface IRemoveConstructorIngredientAction {\n  readonly type: typeof REMOVE_CONSTRUCTOR_INGREDIENT;\n  readonly item: IConstructorIngredient;\n}\n\nexport interface IReorderConstructorIngredientsAction {\n  readonly type: typeof REORDER_CONSTRUCTOR_INGREDIENTS;\n  readonly dropIndex: number;\n  readonly hoverIndex: number;\n}\n\nexport interface IClearConstructorAction {\n  readonly type: typeof CLEAR_CONSTRUCTOR;\n}\n\nexport type TConstructorActions =\n  | IAddConstructorIngredientAction\n  | IRemoveConstructorIngredientAction\n  | IReorderConstructorIngredientsAction\n  | IClearConstructorAction;\n","import { RefObject, useEffect, useRef, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport cn from \"classnames\";\nimport {\n  ConstructorElement,\n  DragIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nimport { REORDER_CONSTRUCTOR_INGREDIENTS } from \"../../../services/actions/constructor\";\nimport { animate, usePrevious } from \"../../../services/utils\";\nimport { IConstructorIngredient } from \"../../../services/types/data\";\n\nimport styles from \"./drag-element.module.css\";\n\ninterface IDragElementProps {\n  item: IConstructorIngredient;\n  index: number;\n  onDelete: (\n    item: IConstructorIngredient,\n    ref: RefObject<HTMLLIElement>\n  ) => void;\n}\n\nconst DragElement: React.FC<IDragElementProps> = ({\n  item,\n  index,\n  onDelete = () => {},\n}) => {\n  const dispatch = useDispatch();\n  const ref = useRef<HTMLLIElement>(null);\n  const [isHoverTop, setHoverTop] = useState(false);\n  const [isTransition, setTransition] = useState(false);\n\n  const element = ref.current?.querySelector(\".constructor-element\");\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) {\n      return;\n    }\n    el.style.opacity = \"0\";\n    animate({\n      draw(progress) {\n        el.style.opacity = `${progress}`;\n      },\n      duration: 500,\n      timing: \"easeOut\",\n    });\n  }, []);\n\n  const [{ isDrag }, dragTargetRef] = useDrag({\n    type: \"constructorItem\",\n    item: () => {\n      return { id: item._id, index };\n    },\n    collect: (monitor) => ({\n      isDrag: monitor.isDragging(),\n    }),\n  });\n\n  const [{ isOver, didDrop }, dropTargetRef] = useDrop({\n    accept: \"constructorItem\",\n    drop(item: { id: string; index: number }) {\n      const hoverIndex = index - (isHoverTop ? 1 : 0);\n      const dropIndex = item.index;\n      setTransition(false);\n\n      if (dropIndex === hoverIndex) {\n        return;\n      }\n\n      dispatch({\n        type: REORDER_CONSTRUCTOR_INGREDIENTS,\n        dropIndex,\n        hoverIndex,\n      });\n      item.index = hoverIndex;\n    },\n    hover(item, monitor) {\n      if (!element) return;\n      setTransition(true);\n      const clientRect = element.getBoundingClientRect();\n      const offset = monitor.getSourceClientOffset() || { y: 0 };\n      setHoverTop(offset.y <= clientRect.y);\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      didDrop: monitor.didDrop(),\n    }),\n  });\n\n  const prevIsDrag = usePrevious(isDrag);\n  const prevIsOver = usePrevious(isOver);\n\n  const overLeave = prevIsOver && !isOver;\n  const dragLeave = prevIsDrag && !isDrag;\n\n  const height = ref.current?.getBoundingClientRect().height || 0;\n\n  dragTargetRef(dropTargetRef(ref));\n\n  return (\n    <li\n      className={cn(styles.container, \"pb-4\")}\n      ref={ref}\n      style={{\n        opacity: isDrag ? 0 : 1,\n        display: dragLeave && didDrop ? \"none\" : \"\",\n        marginTop: isDrag && overLeave ? -height : 0,\n        paddingBottom: !isDrag && isOver && !isHoverTop ? 80 + 16 * 2 : 16,\n        paddingTop: !isDrag && isOver && isHoverTop ? 80 + 16 : 0,\n        transitionDuration: isTransition ? \"0.3s\" : \"0s\",\n      }}\n      data-test-id={`ctr-item-${item._id}`}\n    >\n      <i className={cn(styles.dragItem, \"mr-2\")}>\n        <DragIcon type=\"primary\" />\n      </i>\n      <ConstructorElement\n        text={item.name}\n        price={item.price}\n        thumbnail={item.image}\n        handleClose={() => onDelete(item, ref)}\n      />\n    </li>\n  );\n};\n\nexport default DragElement;\n","import { checkoutOrder } from \"../api\";\nimport { AppDispatch, AppThunk } from \"../types\";\n\nexport const CHECKOUT_ORDER_REQUEST: \"CHECKOUT_ORDER_REQUEST\" =\n  \"CHECKOUT_ORDER_REQUEST\";\nexport const CHECKOUT_ORDER_SUCCESS: \"CHECKOUT_ORDER_SUCCESS\" =\n  \"CHECKOUT_ORDER_SUCCESS\";\nexport const CHECKOUT_ORDER_ERROR: \"CHECKOUT_ORDER_ERROR\" =\n  \"CHECKOUT_ORDER_ERROR\";\nexport const CLEAR_ORDER: \"CLEAR_ORDER\" = \"CLEAR_ORDER\";\n\nexport interface ICheckoutOrderRequestAction {\n  readonly type: typeof CHECKOUT_ORDER_REQUEST;\n}\n\nexport interface ICheckoutOrderSuccessAction {\n  readonly type: typeof CHECKOUT_ORDER_SUCCESS;\n  readonly number: number;\n}\n\nexport interface ICheckoutOrderErrorAction {\n  readonly type: typeof CHECKOUT_ORDER_ERROR;\n  readonly message: string;\n}\n\nexport interface IClearOrderAction {\n  readonly type: typeof CLEAR_ORDER;\n}\n\nexport type TOrderActions =\n  | ICheckoutOrderRequestAction\n  | ICheckoutOrderSuccessAction\n  | ICheckoutOrderErrorAction\n  | IClearOrderAction;\n\nexport const doCheckoutOrder: AppThunk =\n  () => async (dispatch: AppDispatch, getState) => {\n    const { bunItem, items } = getState().construct;\n\n    if (!bunItem) {\n      return dispatch({\n        type: CHECKOUT_ORDER_ERROR,\n        message: \"Для оформления заказа добавьте булку!\",\n      });\n    }\n\n    const ids = [bunItem._id, ...items.map((el) => el._id)];\n\n    dispatch({\n      type: CHECKOUT_ORDER_REQUEST,\n    });\n    try {\n      const data = await checkoutOrder(ids);\n      dispatch({\n        type: CHECKOUT_ORDER_SUCCESS,\n        number: data.order.number,\n      });\n    } catch (err) {\n      dispatch({\n        type: CHECKOUT_ORDER_ERROR,\n        message: err.message,\n      });\n    }\n  };\n","import { useState, useCallback, useRef, RefObject } from \"react\";\nimport { useSelector, useDispatch } from \"../../services/hooks\";\nimport { useHistory } from \"react-router-dom\";\nimport cn from \"classnames\";\nimport {\n  ConstructorElement,\n  Button,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDrop } from \"react-dnd\";\n\nimport OrderDetails from \"../order-details/order-details\";\nimport Modal from \"../modal/modal\";\nimport Spinner from \"../spinner/spinner\";\nimport DragElement from \"./drag-element/drag-element\";\n\nimport { CHECKOUT_ORDER_ERROR } from \"../../services/actions/order\";\n\nimport { animate } from \"../../services/utils\";\nimport { useScrollbar } from \"../../services/scrollbar\";\nimport { IConstructorIngredient } from \"../../services/types/data\";\n\nimport {\n  ADD_CONSTRUCTOR_INGREDIENT,\n  REMOVE_CONSTRUCTOR_INGREDIENT,\n  CLEAR_CONSTRUCTOR,\n} from \"../../services/actions/constructor\";\nimport { doCheckoutOrder, CLEAR_ORDER } from \"../../services/actions/order\";\nimport styles from \"./burger-constructor.module.css\";\n\nconst BurgerConstructor: React.FC = () => {\n  const [isOrderShown, setOrderShown] = useState(false);\n\n  const { bunItem, items, totalPrice } = useSelector(\n    (store) => store.construct\n  );\n\n  const {\n    number: orderNumber,\n    checkoutRequest: orderLoading,\n    checkoutErrorMessage: orderError,\n  } = useSelector((store) => store.order);\n\n  const dispatch = useDispatch();\n\n  const elementOnDelete = useCallback(\n    (item: IConstructorIngredient, ref: RefObject<HTMLLIElement>) => {\n      const el = ref.current;\n      if (!el) {\n        return;\n      }\n      const height = el.offsetHeight;\n      el.style.zIndex = \"-1\";\n      animate({\n        draw(progress) {\n          el.style.opacity = `${1 - progress}`;\n          el.style.marginTop = `-${height * progress}px`;\n        },\n        duration: 500,\n        timing: \"easeOut\",\n      }).then(() => dispatch({ type: REMOVE_CONSTRUCTOR_INGREDIENT, item }));\n    },\n    [dispatch]\n  );\n\n  const orderModalOnClose = useCallback(() => {\n    setOrderShown(false);\n    if (orderNumber) {\n      dispatch({ type: CLEAR_CONSTRUCTOR });\n      dispatch({ type: CLEAR_ORDER });\n    }\n  }, [dispatch, orderNumber]);\n\n  function handleCheckoutOrder() {\n    setOrderShown(true);\n    dispatch(doCheckoutOrder());\n  }\n\n  const [{ isOver, canDrop }, dropIngredientsRef] = useDrop({\n    accept: \"ingredient\",\n    drop(item, monitor) {\n      dispatch({ type: ADD_CONSTRUCTOR_INGREDIENT, item });\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  });\n\n  const listRef = useRef<HTMLUListElement>(null);\n  const bottomBunRef = useRef<HTMLLIElement>(null);\n  const footerRef = useRef<HTMLElement>(null);\n  useScrollbar(listRef, {\n    exclude: [bottomBunRef, footerRef],\n    props: [bunItem, items.length === 0],\n  });\n\n  const history = useHistory();\n  if (orderError === \"jwt malformed\") {\n    dispatch({\n      type: CHECKOUT_ORDER_ERROR,\n      message: \"\",\n    });\n    history.replace(\"/login\");\n    return null;\n  }\n\n  return (\n    <section\n      className={cn(styles.container, \"pt-25 pl-4\")}\n      ref={dropIngredientsRef}\n      data-test-id=\"constructor-container\"\n    >\n      <ul className={styles.elements}>\n        {!bunItem && !items.length && (\n          <li\n            className={cn(\n              styles.dragMessage,\n              \"text text_type_main-medium pt-25 pb-25\",\n              {\n                [styles.dragMessageOver]: isOver,\n                text_color_inactive: !canDrop,\n              }\n            )}\n          >\n            Перетащите ингридиенты сюда\n          </li>\n        )}\n        {bunItem && (\n          <li className=\"ml-8 mr-4 mb-4\" data-test-id=\"ctr-bun-top\">\n            <ConstructorElement\n              type=\"top\"\n              isLocked={true}\n              text={`${bunItem.name} (верх)`}\n              price={bunItem.price}\n              thumbnail={bunItem.image}\n            />\n          </li>\n        )}\n        <li>\n          <ul\n            className={cn(styles.elementsScroll, \"noselect pr-2\")}\n            ref={listRef}\n          >\n            {items.map((el, index) => {\n              return (\n                <DragElement\n                  key={el.key}\n                  item={el}\n                  index={index}\n                  onDelete={elementOnDelete}\n                />\n              );\n            })}\n          </ul>\n        </li>\n        {bunItem && (\n          <li\n            className=\"ml-8 mr-4\"\n            ref={bottomBunRef}\n            data-test-id=\"ctr-bun-bottom\"\n          >\n            <ConstructorElement\n              type=\"bottom\"\n              isLocked={true}\n              text={`${bunItem.name} (низ)`}\n              price={bunItem.price}\n              thumbnail={bunItem.image}\n            />\n          </li>\n        )}\n      </ul>\n      <footer className={cn(styles.footer, \"mt-10 mb-2\")} ref={footerRef}>\n        <p className=\"text text_type_digits-medium mr-2\">{totalPrice}</p>\n        <p className=\"text mr-10\">\n          <CurrencyIcon type=\"primary\" />\n        </p>\n        <Button type=\"primary\" size=\"large\" onClick={handleCheckoutOrder}>\n          Оформить заказ\n        </Button>\n      </footer>\n      <Modal\n        header={orderError && \"Ошибка\"}\n        visible={isOrderShown}\n        onClose={orderLoading ? undefined : orderModalOnClose}\n      >\n        <>\n          {orderLoading && (\n            <div className={styles.center}>\n              <p className=\"text text_type_main-default mb-20 ml-25 mr-25\">\n                Оформляем заказ...\n              </p>\n              <Spinner className=\"mb-15\" />\n            </div>\n          )}\n          {orderError && (\n            <p className={cn(\"text text_type_main-default mt-5\", styles.error)}>\n              {orderError}\n            </p>\n          )}\n          {orderNumber && <OrderDetails orderNumber={orderNumber} />}\n        </>\n      </Modal>\n    </section>\n  );\n};\n\nexport default BurgerConstructor;\n","import { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\nimport BurgerIngredients from \"../components/burger-ingredients/burger-ingredients\";\nimport BurgerConstructor from \"../components/burger-constructor/burger-constructor\";\n\nexport function HomePage() {\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <BurgerIngredients />\n      <BurgerConstructor />\n    </DndProvider>\n  );\n}","import { useState, useCallback, useRef } from \"react\";\nimport { Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport \"./password-input.module.css\";\n\ntype TPasswordInputProps = {\n  value: string;\n  onChange(e: React.ChangeEvent<HTMLInputElement>): void;\n} & typeof Input[\"defaultProps\"];\n\nconst PasswordInput: React.FC<TPasswordInputProps> = ({ ...props }) => {\n  const [isValueHidden, setValueHidden] = useState(true);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleIconClick = useCallback(() => {\n    setValueHidden(!isValueHidden);\n    const el = inputRef.current;\n    if (!el) {\n      return;\n    }\n    const pos = el.selectionStart;\n    setTimeout(() => {\n      el.focus();\n      el.setSelectionRange(pos || el.value.length, pos || el.value.length);\n    }, 0);\n  }, [isValueHidden]);\n\n  return (\n    <Input\n      {...props}\n      ref={inputRef}\n      type={isValueHidden ? \"password\" : \"text\"}\n      icon={isValueHidden ? \"ShowIcon\" : \"HideIcon\"}\n      onIconClick={handleIconClick}\n    />\n  );\n};\n\nexport default PasswordInput;\n","import { useState, useRef, useEffect, ChangeEvent, FormEvent } from \"react\";\n\nconst emailRegExp =\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\ntype TValidationRuleNames = \"required\" | \"email\" | \"minLength\";\n\ninterface IValidationRuleParams<TParam = any> {\n  value: string;\n  param?: TParam;\n  message?: string;\n}\n\ntype TValidationRules = {\n  [key in TValidationRuleNames]: (params: IValidationRuleParams) => string;\n};\n\ntype TValidationRuleValue =\n  | boolean\n  | number\n  | {\n      param: boolean | number;\n      message?: string;\n    };\n\ntype TValidationRuleValues = {\n  [key in TValidationRuleNames]?: TValidationRuleValue;\n};\n\n// Правила валидации\nconst validationRules: TValidationRules = {\n  required: ({ value, message = \"Введите значение\" }) => {\n    return value && value.length > 0 ? \"\" : message;\n  },\n  email: ({ value, message = \"Введите корректный email\" }) => {\n    return emailRegExp.test(String(value).toLowerCase()) ? \"\" : message;\n  },\n  minLength: ({ value, param = 0, message }: IValidationRuleParams<number>) => {\n    message = message || `Введите не менее ${param} символов`;\n    return value.length >= param || value.length === 0 ? \"\" : message;\n  },\n};\n\n/**\n * Проверка значения в соответствии с правилами\n * @param value значение\n * @param rules правила\n * @returns Первое сообщение об ошибке или \"\", если без ошибок\n */\nfunction validate(value: string, rules: TValidationRuleValues): string {\n  if (!rules) return \"\";\n\n  const messages = Object.entries(rules).map(([ruleName, ruleParam]) => {\n    if (!ruleParam) return \"\";\n    return validationRules[ruleName as TValidationRuleNames]({\n      value,\n      param: typeof ruleParam === \"object\" ? ruleParam.param : ruleParam,\n      ...(typeof ruleParam === \"object\" ? { message: ruleParam.message } : {}),\n    });\n  });\n\n  return messages.filter((message) => !!message)[0] || \"\";\n}\n\n/**\n * Проверка всех значени в values в соотвествии с правилами rules\n * @param values\n * @param rules\n * @returns объект: ключ имя поля, значение - первое сообщение об ошибке\n */\nfunction validateAll(\n  values: { [name: string]: string },\n  rules: { [name: string]: TValidationRuleValues }\n) {\n  const errors: { [name: string]: string } = {};\n  for (const name of Object.keys(values)) {\n    errors[name] = validate(values[name], rules[name]);\n  }\n\n  return errors;\n}\n\n/**\n * Хук управляет отправкой данных формы,\n * проверяет клиентскую валидацию с помощью правил validation,\n * устанавливает значения полей по умолчанию defValues\n * @param {(values) => Promise} onSubmit Отправщик данных формы\n * @return {{\n *   handleSubmit, обрабочик формы onSubmit\n *   data,         данные с сервера после отправки формы\n *   error,        ошибка с сервера после отправки формы\n *   loading,      загрузка данных после отправки формы\n *   register,     обрабтчик изменения поля формы\n * }}\n */\nexport function useFormSubmit<IData>({\n  onSubmit,\n}: {\n  onSubmit: (param: any) => Promise<IData>;\n}) {\n  const [values, setValues] = useState<{ [key: string]: string }>({});\n  const [validation, setValidation] = useState<{ [key: string]: string }>({});\n  const [data, setData] = useState<IData | null>(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const prevDataRef = useRef<IData | null>(null);\n  const rulesRef = useRef<{ [name: string]: TValidationRuleValues }>({});\n\n  useEffect(() => {\n    prevDataRef.current = data;\n  });\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const rules = rulesRef.current;\n\n    setValues({\n      ...values,\n      [name]: value,\n    });\n\n    setValidation({\n      ...validation,\n      [name]: validate(value, rules[name]),\n    });\n  };\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    const rules = rulesRef.current;\n\n    if (loading) return;\n\n    const errors = validateAll(values, rules);\n    setValidation(errors);\n    // Есть ошибки клиентской валидации\n    if (Object.values(errors).some((error) => error)) {\n      return;\n    }\n\n    setData(null);\n    setLoading(true);\n\n    try {\n      const res = await onSubmit(values);\n      setError(\"\");\n      setData(res);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const register = (\n    name: string,\n    {\n      value = \"\",\n      validate,\n    }: {\n      value?: string;\n      validate?: TValidationRuleValues;\n    } = {}\n  ) => {\n    if (!(name in values)) {\n      setValues({\n        ...values,\n        [name]: value,\n      });\n    }\n\n    if (validate && !(name in rulesRef.current)) {\n      rulesRef.current[name] = validate;\n    }\n\n    return {\n      name,\n      value: values[name] || \"\",\n      onChange: handleChange,\n      error: !!validation[name],\n      errorText: validation[name],\n    };\n  };\n\n  return {\n    handleSubmit,\n    data,\n    dataChanged: data !== prevDataRef.current,\n    error,\n    loading,\n    values,\n    setValues,\n    register,\n  };\n}\n","import { loadUser } from \"../api\";\nimport { AppDispatch, AppThunk } from \"../types\";\nimport { IUser } from \"../types/data\";\n\nexport const GET_USER_REQUEST: \"GET_USER_REQUEST\" = \"GET_USER_REQUEST\";\nexport const GET_USER_SUCCESS: \"GET_USER_SUCCESS\" = \"GET_USER_SUCCESS\";\nexport const GET_USER_ERROR: \"GET_USER_ERROR\" = \"GET_USER_ERROR\";\nexport const SET_USER: \"SET_USER\" = \"SET_USER\";\nexport const CLEAR_USER: \"CLEAR_USER\" = \"CLEAR_USER\";\n\nexport interface IGetUserRequestAction {\n  readonly type: typeof GET_USER_REQUEST;\n}\n\nexport interface IGetUserSuccessAction {\n  readonly type: typeof GET_USER_SUCCESS;\n  readonly user: IUser;\n}\n\nexport interface IGetUserErrorAction {\n  readonly type: typeof GET_USER_ERROR;\n  readonly message: string;\n}\n\nexport interface ISetUserAction {\n  readonly type: typeof SET_USER;\n  readonly user: IUser;\n}\n\nexport interface IClearUserAction {\n  readonly type: typeof CLEAR_USER;\n}\n\nexport type TUserActions =\n  | IGetUserRequestAction\n  | IGetUserSuccessAction\n  | IGetUserErrorAction\n  | ISetUserAction\n  | IClearUserAction;\n\nexport const getUser: AppThunk =\n  () => async (dispatch: AppDispatch, getState) => {\n    dispatch({\n      type: GET_USER_REQUEST,\n    });\n    try {\n      const data = await loadUser();\n      dispatch({\n        type: GET_USER_SUCCESS,\n        user: data.user,\n      });\n    } catch (err) {\n      dispatch({\n        type: GET_USER_ERROR,\n        message: err.message,\n      });\n    }\n  };\n","import { useEffect, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"./hooks\";\nimport { login, logout } from \"./api\";\nimport { getUser, SET_USER, CLEAR_USER } from \"./actions/user\";\n\nexport function useAuth() {\n  const { user, userRequest, userSuccess, userErrorMessage } = useSelector(\n    (store) => store.user\n  );\n  const userLoaded = userSuccess || !!userErrorMessage;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!userRequest && !userLoaded) {\n      dispatch(getUser());\n    }\n  }, [dispatch, userLoaded, userRequest]);\n\n  const signIn = useCallback(\n    async (params) => {\n      const data = await login(params);\n      dispatch({ type: SET_USER, user: data.user });\n      return data;\n    },\n    [dispatch]\n  );\n\n  const signOut = useCallback(async () => {\n    await logout();\n    dispatch({ type: CLEAR_USER });\n  }, [dispatch]);\n\n  return {\n    user,\n    userLoaded,\n    signIn,\n    signOut,\n  };\n}\n","import cn from \"classnames\";\nimport {\n  Input,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\n\nimport PasswordInput from \"../components/password-input/password-input\";\nimport { useFormSubmit } from \"../services/form\";\nimport { useAuth } from \"../services/auth\";\n\nimport styles from \"./login.module.css\";\n\nexport function LoginPage() {\n  const { user, userLoaded, signIn } = useAuth();\n  const location = useLocation<{ from?: Location }>();\n  const { data, loading, error, register, handleSubmit } = useFormSubmit({\n    onSubmit: signIn,\n  });\n\n  if (!userLoaded) {\n    return null;\n  }\n\n  if (!loading && user) {\n    return <Redirect to=\"/\" />;\n  }\n\n  if (data) {\n    return <Redirect to={location.state?.from || \"/\"} />;\n  }\n\n  return (\n    <form className={styles.container} onSubmit={handleSubmit}>\n      <h1 className=\"text text_type_main-medium mb-6\">Вход</h1>\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default mb-4\")}>\n          {error}\n        </p>\n      )}\n      <div className=\"mb-6\">\n        <Input\n          type=\"email\"\n          placeholder=\"E-mail\"\n          {...register(\"email\", { validate: { required: true, email: true } })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-6\">\n        <PasswordInput\n          placeholder=\"Пароль\"\n          {...register(\"password\", {\n            validate: { required: true, minLength: 6 },\n          })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-20\">\n        <Button>Войти</Button>\n      </div>\n      <p className=\"text text_type_main-default text_color_inactive mb-4\">\n        Вы новый пользователь? <Link to=\"/register\">Зарегистрироваться</Link>\n      </p>\n      <p className=\"text text_type_main-default text_color_inactive\">\n        Забыли пароль? <Link to=\"/forgot-password\">Восстановить пароль</Link>\n      </p>\n    </form>\n  );\n}\n","import cn from \"classnames\";\nimport {\n  Input,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport { Link } from \"react-router-dom\";\n\nimport PasswordInput from \"../components/password-input/password-input\";\nimport { useFormSubmit } from \"../services/form\";\nimport { register as callRegister } from \"../services/api\";\n\nimport styles from \"./register.module.css\";\n\nexport function RegisterPage() {\n  const { data, loading, error, register, handleSubmit } = useFormSubmit({\n    onSubmit: (params) => callRegister(params),\n  });\n\n  if (data) {\n    return (\n      <form className={styles.container}>\n        <h1 className=\"text text_type_main-medium mb-6\">Регистрация</h1>\n        <p className=\"text text_type_main-default \">\n          Вы успешно зарегистирированы. <Link to=\"/login\">Войти</Link>\n        </p>\n      </form>\n    );\n  }\n\n  return (\n    <form className={styles.container} onSubmit={handleSubmit}>\n      <h1 className=\"text text_type_main-medium mb-6\">Регистрация</h1>\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default mb-4\")}>\n          {error}\n        </p>\n      )}\n      <div className=\"mb-6\">\n        <Input\n          type=\"text\"\n          placeholder=\"Имя\"\n          {...register(\"name\", { validate: { required: true, minLength: 3 } })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-6\">\n        <Input\n          type=\"email\"\n          placeholder=\"E-mail\"\n          {...register(\"email\", { validate: { required: true, email: true } })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-6\">\n        <PasswordInput\n          placeholder=\"Пароль\"\n          {...register(\"password\", {\n            validate: { required: true, minLength: 6 },\n          })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-20\">\n        <Button>Зарегистрироваться</Button>\n      </div>\n      <p className=\"text text_type_main-default text_color_inactive\">\n        Уже зарегистированы? <Link to=\"/login\">Войти</Link>\n      </p>\n    </form>\n  );\n}\n","import cn from \"classnames\";\nimport {\n  Input,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport { Link, Redirect } from \"react-router-dom\";\nimport { useFormSubmit } from \"../services/form\";\nimport { checkResetPassword } from \"../services/api\";\n\nimport styles from \"./forgot-password.module.css\";\n\nexport function ForgotPasswordPage() {\n  const { data, loading, error, register, values, handleSubmit } =\n    useFormSubmit({\n      onSubmit: checkResetPassword,\n    });\n\n  if (data) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/reset-password\",\n          state: { email: values.email },\n        }}\n      />\n    );\n  }\n\n  return (\n    <form className={styles.container} onSubmit={handleSubmit}>\n      <h1 className=\"text text_type_main-medium mb-6\">Восстановление пароля</h1>\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default mb-4\")}>\n          {error}\n        </p>\n      )}\n      <div className=\"mb-6\">\n        <Input\n          type=\"email\"\n          placeholder=\"Укажите e-mail\"\n          {...register(\"email\", { validate: { required: true, email: true } })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-20\">\n        <Button>Восстановить</Button>\n      </div>\n      <p className=\"text text_type_main-default text_color_inactive\">\n        Вспомнили пароль? <Link to=\"/login\">Войти</Link>\n      </p>\n    </form>\n  );\n}\n","import cn from \"classnames\";\nimport {\n  Input,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport PasswordInput from \"../components/password-input/password-input\";\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\nimport { useFormSubmit } from \"../services/form\";\nimport { resetPassword } from \"../services/api\";\n\nimport styles from \"./reset-password.module.css\";\n\nexport function ResetPasswordPage() {\n  const location = useLocation<{ email?: string }>();\n  const { data, loading, error, register, handleSubmit } = useFormSubmit({\n    onSubmit: resetPassword,\n  });\n\n  if (!location.state?.email) {\n    return <Redirect to=\"/forgot-password\" />;\n  }\n\n  if (data) {\n    return (\n      <form className={styles.container}>\n        <h1 className=\"text text_type_main-medium mb-6\">\n          Восстановление пароля\n        </h1>\n        <p className=\"text text_type_main-default \">\n          Пароль успешно изменён. <Link to=\"/login\">Войти</Link>\n        </p>\n      </form>\n    );\n  }\n\n  return (\n    <form className={styles.container} onSubmit={handleSubmit}>\n      <h1 className=\"text text_type_main-medium mb-6\">Восстановление пароля</h1>\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default mb-4\")}>\n          {error}\n        </p>\n      )}\n      <div className=\"mb-6\">\n        <PasswordInput\n          placeholder=\"Введите новый пароль\"\n          {...register(\"password\", {\n            validate: { required: true, minLength: 6 },\n          })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-6\">\n        <Input\n          type=\"text\"\n          placeholder=\"Введите код из письма\"\n          {...register(\"token\", {\n            validate: { required: true, minLength: 10 },\n          })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-20\">\n        <Button>Сохранить</Button>\n      </div>\n      <p className=\"text text_type_main-default text_color_inactive\">\n        Вспомнили пароль? <Link to=\"/login\">Войти</Link>\n      </p>\n    </form>\n  );\n}\n","import { useState, useRef, FocusEvent } from \"react\";\nimport { Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport \"./view-input.module.css\";\n\ntype TViewInputProps = {\n  setValue: (value: string) => void;\n} & {\n  value: string;\n  onChange(e: React.ChangeEvent<HTMLInputElement>): void;\n} & typeof Input[\"defaultProps\"];\n\nconst ViewInput: React.FC<TViewInputProps> = ({ setValue, ...props }) => {\n  const [isEditMode, setEditMode] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n  let iconClick = false;\n\n  const handleIconClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    const el = inputRef.current;\n    iconClick = true;\n    if (isEditMode && el) {\n      setValue(\"\");\n      el.focus();\n    } else if (el) {\n      setEditMode(true);\n      setTimeout(() => {\n        el.focus();\n      }, 0);\n    }\n  };\n\n  const handleBlur = (e?: FocusEvent<HTMLInputElement>) => {\n    setTimeout(() => {\n      if (iconClick) {\n        iconClick = false;\n        return;\n      }\n      setEditMode(false);\n    }, 200);\n  };\n\n  return (\n    <Input\n      {...props}\n      ref={inputRef}\n      icon={isEditMode ? \"CloseIcon\" : \"EditIcon\"}\n      onIconClick={handleIconClick}\n      onBlur={handleBlur}\n      disabled={props.disabled || !isEditMode}\n    />\n  );\n};\n\nexport default ViewInput;\n","import cn from \"classnames\";\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDispatch } from \"react-redux\";\n\nimport ViewInput from \"../view-input/view-input\";\nimport { useFormSubmit } from \"../../services/form\";\nimport { useAuth } from \"../../services/auth\";\nimport { updateUser } from \"../../services/api\";\nimport { isEqual } from \"../../services/utils\";\n\nimport { SET_USER } from \"../../services/actions/user\";\n\nimport styles from \"./profile-form.module.css\";\n\nconst ProfileForm: React.FC = () => {\n  const dispatch = useDispatch();\n  const { user } = useAuth();\n  const {\n    data,\n    dataChanged,\n    loading,\n    error,\n    register,\n    values,\n    setValues,\n    handleSubmit,\n  } = useFormSubmit({\n    onSubmit: updateUser,\n  });\n\n  if (!user) {\n    return null;\n  }\n\n  const footerVisible = !isEqual({ ...user, password: \"\" }, values);\n\n  const createSetValue = (name: string) => {\n    return (value: string) => setValues({ ...values, [name]: value });\n  };\n\n  const handleCancel = () => {\n    setValues({ ...user, password: \"\" });\n  };\n\n  if (\n    data &&\n    dataChanged &&\n    !isEqual(values, {\n      ...data.user,\n      password: \"\",\n    })\n  ) {\n    setValues({\n      ...data.user,\n      password: \"\",\n    });\n  }\n\n  if (data && user !== data.user) {\n    dispatch({ type: SET_USER, user: data.user });\n  }\n\n  return (\n    <form className={cn(styles.form, \"mt-20\")} onSubmit={handleSubmit}>\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default mb-4\")}>\n          {error}\n        </p>\n      )}\n      <div className=\"mb-6\">\n        <ViewInput\n          type=\"text\"\n          placeholder=\"Имя\"\n          setValue={createSetValue(\"name\")}\n          {...register(\"name\", {\n            value: user.name,\n            validate: { required: true, minLength: 3 },\n          })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-6\">\n        <ViewInput\n          type=\"email\"\n          placeholder=\"Логин\"\n          setValue={createSetValue(\"email\")}\n          {...register(\"email\", {\n            value: user.email,\n            validate: { required: true, email: true },\n          })}\n          disabled={loading}\n        />\n      </div>\n      <div className=\"mb-6\">\n        <ViewInput\n          placeholder=\"Пароль\"\n          type=\"password\"\n          setValue={createSetValue(\"password\")}\n          {...register(\"password\", { validate: { minLength: 6 } })}\n          disabled={loading}\n        />\n      </div>\n      <footer\n        style={{ display: footerVisible ? \"\" : \"none\" }}\n        className={styles.formFooter}\n      >\n        <a\n          className=\"text text_type_main-default mr-7\"\n          onClick={loading ? undefined : handleCancel}\n        >\n          Отмена\n        </a>\n        <Button type=\"primary\" size=\"medium\">\n          Сохранить\n        </Button>\n      </footer>\n    </form>\n  );\n};\n\nexport default ProfileForm;\n","import cn from \"classnames\";\n\nimport styles from \"./ingredient-avatar.module.css\";\n\ninterface IIngredientAvatarProps {\n  image: string;\n  count?: number;\n}\n\nconst IngredientAvatar: React.FC<IIngredientAvatarProps> = ({\n  image,\n  count = 0,\n}) => {\n  return (\n    <div className={styles.ingredient}>\n      <img\n        src={image}\n        className={styles.ingredientImage}\n        width={112}\n        height={56}\n        alt=\"ingredient\"\n      />\n      {count > 0 && (\n        <i className={cn(styles.ingredientFg, \"text text_type_main-default\")}>\n          +{count}\n        </i>\n      )}\n    </div>\n  );\n};\n\nexport default IngredientAvatar;\n","import { IOrder } from \"../types/data\";\n\nexport const WS_FEED_CONNECTION_START: \"WS_FEED_CONNECTION_START\" =\n  \"WS_FEED_CONNECTION_START\";\nexport const WS_FEED_CONNECTION_CLOSE: \"WS_FEED_CONNECTION_CLOSE\" =\n  \"WS_FEED_CONNECTION_CLOSE\";\nexport const WS_FEED_SEND_MESSAGE: \"WS_FEED_SEND_MESSAGE\" =\n  \"WS_FEED_SEND_MESSAGE\";\nexport const WS_FEED_CONNECTION_SUCCESS: \"WS_FEED_CONNECTION_SUCCESS\" =\n  \"WS_FEED_CONNECTION_SUCCESS\";\nexport const WS_FEED_CONNECTION_CLOSED: \"WS_FEED_CONNECTION_CLOSED\" =\n  \"WS_FEED_CONNECTION_CLOSED\";\nexport const WS_FEED_CONNECTION_ERROR: \"WS_FEED_CONNECTION_ERROR\" =\n  \"WS_FEED_CONNECTION_ERROR\";\nexport const WS_FEED_GET_MESSAGE: \"WS_FEED_GET_MESSAGE\" = \"WS_FEED_GET_MESSAGE\";\n\nexport interface IWsFeedConnectionStartAction {\n  readonly type: typeof WS_FEED_CONNECTION_START;\n}\n\nexport interface IWsFeedConnectionCloseAction {\n  readonly type: typeof WS_FEED_CONNECTION_CLOSE;\n}\n\nexport interface IWsFeedConnectionClosedAction {\n  readonly type: typeof WS_FEED_CONNECTION_CLOSED;\n}\n\nexport interface IWsFeedConnectionSuccessAction {\n  readonly type: typeof WS_FEED_CONNECTION_SUCCESS;\n}\n\nexport interface IWsFeedConnectionErrorAction {\n  readonly type: typeof WS_FEED_CONNECTION_ERROR;\n  readonly payload: { message: string };\n}\n\nexport interface IWsFeedGetMessageAction {\n  readonly type: typeof WS_FEED_GET_MESSAGE;\n  readonly payload: {\n    message?: string;\n    orders: IOrder[];\n    total: number;\n    totalToday: number;\n  };\n}\n\nexport type TWsFeedActions =\n  | IWsFeedConnectionStartAction\n  | IWsFeedConnectionCloseAction\n  | IWsFeedConnectionClosedAction\n  | IWsFeedConnectionSuccessAction\n  | IWsFeedConnectionErrorAction\n  | IWsFeedGetMessageAction;\n","import { IOrder } from \"../types/data\";\n\nexport const WS_PROFILE_CONNECTION_START: \"WS_PROFILE_CONNECTION_START\" =\n  \"WS_PROFILE_CONNECTION_START\";\nexport const WS_PROFILE_CONNECTION_CLOSE: \"WS_PROFILE_CONNECTION_CLOSE\" =\n  \"WS_PROFILE_CONNECTION_CLOSE\";\nexport const WS_PROFILE_SEND_MESSAGE: \"WS_PROFILE_SEND_MESSAGE\" =\n  \"WS_PROFILE_SEND_MESSAGE\";\nexport const WS_PROFILE_CONNECTION_SUCCESS: \"WS_PROFILE_CONNECTION_SUCCESS\" =\n  \"WS_PROFILE_CONNECTION_SUCCESS\";\nexport const WS_PROFILE_CONNECTION_CLOSED: \"WS_PROFILE_CONNECTION_CLOSED\" =\n  \"WS_PROFILE_CONNECTION_CLOSED\";\nexport const WS_PROFILE_CONNECTION_ERROR: \"WS_PROFILE_CONNECTION_ERROR\" =\n  \"WS_PROFILE_CONNECTION_ERROR\";\nexport const WS_PROFILE_GET_MESSAGE: \"WS_PROFILE_GET_MESSAGE\" =\n  \"WS_PROFILE_GET_MESSAGE\";\n\nexport interface IWsProfileConnectionStartAction {\n  readonly type: typeof WS_PROFILE_CONNECTION_START;\n}\n\nexport interface IWsProfileConnectionCloseAction {\n  readonly type: typeof WS_PROFILE_CONNECTION_CLOSE;\n}\n\nexport interface IWsProfileConnectionClosedAction {\n  readonly type: typeof WS_PROFILE_CONNECTION_CLOSED;\n}\n\nexport interface IWsProfileConnectionSuccessAction {\n  readonly type: typeof WS_PROFILE_CONNECTION_SUCCESS;\n}\n\nexport interface IWsProfileConnectionErrorAction {\n  readonly type: typeof WS_PROFILE_CONNECTION_ERROR;\n  readonly payload: { message: string };\n}\n\nexport interface IWsProfileGetMessageAction {\n  readonly type: typeof WS_PROFILE_GET_MESSAGE;\n  readonly payload: {\n    message?: string;\n    orders: IOrder[];\n    total: number;\n    totalToday: number;\n  };\n}\n\nexport type TWsProfileActions =\n  | IWsProfileConnectionStartAction\n  | IWsProfileConnectionCloseAction\n  | IWsProfileConnectionClosedAction\n  | IWsProfileConnectionSuccessAction\n  | IWsProfileConnectionErrorAction\n  | IWsProfileGetMessageAction;\n","import { useEffect, useLayoutEffect, useMemo, useState } from \"react\";\nimport { useSelector, useDispatch } from \"../services/hooks\";\n\nimport {\n  WS_FEED_CONNECTION_START,\n  WS_FEED_CONNECTION_CLOSE,\n} from \"./actions/ws-feed\";\n\nimport {\n  WS_PROFILE_CONNECTION_START,\n  WS_PROFILE_CONNECTION_CLOSE,\n} from \"./actions/ws-profile\";\n\nimport { getIngredients } from \"./actions/ingredients\";\nimport { loadOrderById } from \"./api\";\nimport {\n  IIngredient,\n  IOrder,\n  IOrderIngredient,\n  IFullOrder,\n} from \"./types/data\";\n\nfunction useIngredientsMap(ingredients: IIngredient[]) {\n  return useMemo(\n    () =>\n      ingredients.reduce((map: { [key: string]: IIngredient }, item) => {\n        map[item._id] = item;\n        return map;\n      }, {}),\n    [ingredients]\n  );\n}\n\nfunction getFullOrder(\n  order: IOrder,\n  ingredientsMap: { [key: string]: IIngredient }\n): IFullOrder | null {\n  if (Object.keys(ingredientsMap).length === 0) {\n    return null;\n  }\n\n  const ingredients = order.ingredients\n    .filter((id) => !!id)\n    .map((id) => ingredientsMap[id])\n    .reduce((result: IOrderIngredient[], ingredient) => {\n      const found = result.find(({ _id }) => ingredient._id === _id);\n\n      if (found) {\n        if (found.type !== \"bun\") {\n          found.count++;\n        }\n        return result;\n      }\n\n      result.push({\n        ...ingredient,\n        count: ingredient.type === \"bun\" ? 2 : 1,\n      });\n      return result;\n    }, []);\n\n  return {\n    ...order,\n    price: ingredients.reduce(\n      (total, { count, price }) => total + count * price,\n      0\n    ),\n    ingredients,\n  };\n}\n\nconst statusMap = {\n  created: \"Создан\",\n  pending: \"Готовится\",\n  done: \"Выполнен\",\n  canceled: \"Отменен\",\n};\n\nexport function translateStatus(status: IFullOrder[\"status\"]) {\n  return statusMap[status] || status;\n}\n\nexport function useOrders(orders: IOrder[]) {\n  const { items: ingredients } = useSelector((store) => store.ingredients);\n\n  const ingredientsMap = useIngredientsMap(ingredients);\n\n  const ordersList = useMemo(\n    () =>\n      orders\n        .map((order) => getFullOrder(order, ingredientsMap))\n        .filter((order): order is IFullOrder => order !== null),\n    [orders, ingredientsMap]\n  );\n\n  return { ordersList };\n}\n\nexport function useOrderLoad(id: string) {\n  const dispatch = useDispatch();\n\n  const [serverOrder, setServerOrder] = useState<IOrder>();\n  const [order, setOrder] = useState<IFullOrder | null>(null);\n  const [orderLoading, setOrderLoading] = useState(true);\n  const [orderError, setOrderError] = useState(\"\");\n\n  const {\n    items: ingredients,\n    itemsErrorMessage: ingredientsError,\n    itemsRequest: ingredientsLoading,\n  } = useSelector((store) => store.ingredients);\n\n  useEffect(() => {\n    if (ingredients.length === 0) {\n      dispatch(getIngredients());\n    }\n  }, [dispatch, ingredients.length]);\n\n  const ingredientsMap = useIngredientsMap(ingredients);\n\n  if (ingredients.length && serverOrder && !order) {\n    setOrder(getFullOrder(serverOrder, ingredientsMap));\n  }\n\n  useEffect(() => {\n    setOrderLoading(true);\n    loadOrderById(id)\n      .then((data) => {\n        setServerOrder(data);\n      })\n      .catch((err) => setOrderError(err))\n      .finally(() => {\n        setOrderLoading(false);\n      });\n  }, [id]);\n\n  const loading = ingredientsLoading || orderLoading;\n  const error = ingredientsError + orderError;\n\n  return { order, loading, error };\n}\n\nexport function useFeedOrders() {\n  const dispatch = useDispatch();\n\n  const {\n    orders,\n    total,\n    totalToday,\n    wsError: ordersError,\n  } = useSelector((store) => store.feed);\n\n  useEffect(() => {\n    dispatch({ type: WS_FEED_CONNECTION_START });\n\n    return () => {\n      dispatch({ type: WS_FEED_CONNECTION_CLOSE });\n    };\n  }, [dispatch]);\n\n  const {\n    items: ingredients,\n    itemsErrorMessage: ingredientsError,\n    itemsRequest: ingredientsLoading,\n  } = useSelector((store) => store.ingredients);\n\n  useLayoutEffect(() => {\n    if (ingredients.length === 0) {\n      dispatch(getIngredients());\n    }\n  }, [dispatch, ingredients.length]);\n\n  const { ordersList } = useOrders(orders);\n\n  const completeNumbers = useMemo(\n    () =>\n      orders\n        .filter(({ status }) => status === \"done\")\n        .slice(0, 20)\n        .map(({ number }) => number),\n    [orders]\n  );\n\n  const progressNumbers = useMemo(\n    () =>\n      orders\n        .filter(({ status }) => status === \"pending\")\n        .slice(0, 20)\n        .map(({ number }) => number),\n    [orders]\n  );\n\n  const error = ordersError + ingredientsError;\n  const loading = (!orders.length && !error) || ingredientsLoading;\n\n  return {\n    ordersList,\n    total,\n    totalToday,\n    completeNumbers,\n    progressNumbers,\n    error,\n    loading,\n  };\n}\n\nexport function useProfileOrders() {\n  const dispatch = useDispatch();\n\n  const { orders, wsError: ordersError } = useSelector(\n    (store) => store.profile\n  );\n\n  useLayoutEffect(() => {\n    dispatch({ type: WS_PROFILE_CONNECTION_START });\n\n    return () => {\n      dispatch({ type: WS_PROFILE_CONNECTION_CLOSE });\n    };\n  }, [dispatch]);\n\n  const {\n    items: ingredients,\n    itemsErrorMessage: ingredientsError,\n    itemsRequest: ingredientsLoading,\n  } = useSelector((store) => store.ingredients);\n\n  useLayoutEffect(() => {\n    if (ingredients.length === 0) {\n      dispatch(getIngredients());\n    }\n  }, [dispatch, ingredients.length]);\n\n  let { ordersList } = useOrders(orders);\n\n  ordersList.sort(\n    (a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n  );\n\n  const error = ordersError + ingredientsError;\n  const loading = (!orders.length && !error) || ingredientsLoading;\n\n  return {\n    ordersList,\n    error,\n    loading,\n  };\n}\n","import { memo } from \"react\";\nimport cn from \"classnames\";\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport { Link, useRouteMatch, useLocation } from \"react-router-dom\";\nimport { formatPastDate } from \"../../services/utils\";\nimport IngredientAvatar from \"../ingredient-avatar/ingredient-avatar\";\nimport { IFullOrder, IOrderIngredient } from \"../../services/types/data\";\nimport { translateStatus } from \"../../services/orders\";\n\nimport styles from \"./order-item.module.css\";\n\ninterface IIngredientsProps {\n  ingredients: IOrderIngredient[];\n}\n\nconst Ingredients: React.FC<IIngredientsProps> = ({ ingredients = [] }) => {\n  const list = ingredients.slice(0, 5);\n  const rest = ingredients.slice(5);\n  return (\n    <ul className={styles.ingredientList}>\n      {list.map(({ image }, index) => (\n        <li\n          className={styles.ingredient}\n          key={index}\n          style={{ zIndex: list.length - index }}\n        >\n          <IngredientAvatar image={image} />\n        </li>\n      ))}\n      {rest.length > 0 && (\n        <li className={styles.ingredient} key={list.length}>\n          <IngredientAvatar image={rest[0].image} count={rest.length - 1} />\n        </li>\n      )}\n    </ul>\n  );\n};\n\ninterface IOrderItemProps {\n  order: IFullOrder;\n}\n\nconst OrderItem: React.FC<IOrderItemProps> = memo(({ order }) => {\n  const location = useLocation();\n  const { path } = useRouteMatch();\n  return (\n    <Link\n      className={cn(styles.container, \"pl-6 pr-6 pb-6 pt-6\")}\n      to={{\n        pathname: `${path}/${order.number}`,\n        state: { background: location },\n      }}\n    >\n      <header className={styles.header}>\n        <h2 className=\"text text_type_digits-default\">#{order.number}</h2>\n        <span className=\"text text_type_main-default text_color_inactive\">\n          {formatPastDate(order.createdAt)}\n        </span>\n      </header>\n      <h1 className=\"text text_type_main-medium mt-6\">{order.name}</h1>\n      {order.status && (\n        <p\n          className={cn(\"text text_type_main-default pt-2\", {\n            [styles.statusDone]: order.status === \"done\",\n          })}\n        >\n          {translateStatus(order.status)}\n        </p>\n      )}\n      <footer className={cn(styles.footer, \"mt-6\")}>\n        <Ingredients ingredients={order.ingredients} />\n        <div className={styles.price}>\n          <p className=\"text text_type_digits-default mr-2\">{order.price}</p>\n          <p className=\"text\">\n            <CurrencyIcon type=\"primary\" />\n          </p>\n        </div>\n      </footer>\n    </Link>\n  );\n});\n\nexport default OrderItem;\n","import cn from \"classnames\";\n\nimport { useState, useEffect, useRef } from \"react\";\n\nimport { NavLink, Route, useRouteMatch } from \"react-router-dom\";\n\nimport ProfileForm from \"../components/profile-form/profile-form\";\nimport { useAuth } from \"../services/auth\";\nimport OrderItem from \"../components/order-item/order-item\";\nimport Skeleton from \"../components/skeleton/skeleton\";\nimport Spinner from \"../components/spinner/spinner\";\n\nimport { useProfileOrders } from \"../services/orders\";\n\nimport styles from \"./profile.module.css\";\nimport { useScrollbar } from \"../services/scrollbar\";\n\nfunction Menu() {\n  const { path } = useRouteMatch();\n  return (\n    <nav className={cn(styles.menu, \"mt-20 mr-15\")}>\n      <ul className=\"text text_type_main-medium\">\n        <li>\n          <NavLink\n            to={path}\n            exact\n            className={styles.menuItem}\n            activeClassName={styles.menuItemActive}\n          >\n            Профиль\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            to={`${path}/orders`}\n            className={styles.menuItem}\n            activeClassName={styles.menuItemActive}\n          >\n            История заказов\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            to={`${path}/logout`}\n            exact\n            className={styles.menuItem}\n            activeClassName={styles.menuItemActive}\n          >\n            Выход\n          </NavLink>\n        </li>\n      </ul>\n      <footer\n        className={cn(\n          styles.menuFooter,\n          \"text text_type_main-default text_color_inactive mt-20\"\n        )}\n      >\n        <Route path={path} exact>\n          В этом разделе вы можете изменить свои персональные данные\n        </Route>\n        <Route path={`${path}/orders`} exact>\n          В этом разделе вы можете просмотреть свою историю заказов\n        </Route>\n      </footer>\n    </nav>\n  );\n}\n\nfunction Logout() {\n  const { signOut } = useAuth();\n  const [logoutError, setLogoutError] = useState(\"\");\n\n  useEffect(() => {\n    signOut().catch((err) => setLogoutError(err.message));\n  }, [signOut]);\n\n  return logoutError ? (\n    <p className={cn(styles.error, \"text text_type_main-default mt-20\")}>\n      При выходе возникла ошибка. Пожалуйста, попробуйте позже. {logoutError}\n    </p>\n  ) : (\n    <Spinner center={true} />\n  );\n}\n\nfunction OrderList() {\n  const orderListRef = useRef<HTMLUListElement>(null);\n  useScrollbar(orderListRef);\n\n  const { ordersList, error, loading } = useProfileOrders();\n\n  return (\n    <>\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default\")}>\n          Что-то пошло не так. {error}\n        </p>\n      )}\n      <ul className={styles.orderList} ref={orderListRef}>\n        {loading && (\n          <Skeleton\n            repeat={2}\n            className={cn(styles.skeletonOrder, \"mb-6 mr-2\")}\n            tag=\"li\"\n          />\n        )}\n        {ordersList.map((order) => (\n          <li key={order.number} className=\"mb-6 mr-2\">\n            <OrderItem order={order} />\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport function ProfilePage() {\n  const { path } = useRouteMatch();\n  return (\n    <section className={cn(styles.container, \"mt-10\")}>\n      <Menu />\n      <Route path={path} exact>\n        <ProfileForm />\n      </Route>\n      <Route path={`${path}/orders`} exact>\n        <OrderList />\n      </Route>\n      <Route path={`${path}/logout`} exact>\n        <Logout />\n      </Route>\n    </section>\n  );\n}\n","import { useRef } from \"react\";\nimport cn from \"classnames\";\n\nimport OrderItem from \"../components/order-item/order-item\";\nimport Skeleton from \"../components/skeleton/skeleton\";\nimport { useScrollbar } from \"../services/scrollbar\";\nimport { useFeedOrders } from \"../services/orders\";\n\nimport styles from \"./feed.module.css\";\nimport appStyles from \"../components/app/app.module.css\";\n\ninterface IStatisticGridItemProps {\n  title: string;\n  orders: number[];\n  loading: boolean;\n  className?: string;\n  complete?: boolean;\n}\n\nfunction StatisticGridItem({\n  title,\n  orders,\n  loading,\n  className,\n  complete = false,\n}: IStatisticGridItemProps) {\n  return (\n    <section className={cn(styles.statisticGridItem, className)}>\n      <h2 className=\"text text_type_main-medium mb-6\">{title}</h2>\n      <ul\n        className={cn(\n          styles.statisticGridItemList,\n          \"text text_type_digits-default\",\n          {\n            [styles.success]: complete,\n          }\n        )}\n      >\n        {loading && <Skeleton repeat={3} className=\"mb-2\" tag=\"li\" />}\n        {orders.map((order, index) => (\n          <li className=\"mb-2\" key={index}>\n            {order}\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n}\n\nexport function FeedPage() {\n  const statisticRef = useRef<HTMLElement>(null);\n  const orderListRef = useRef<HTMLUListElement>(null);\n  useScrollbar(statisticRef);\n  useScrollbar(orderListRef);\n\n  const {\n    ordersList,\n    completeNumbers,\n    progressNumbers,\n    total,\n    totalToday,\n    error,\n    loading,\n  } = useFeedOrders();\n\n  return (\n    <section className={cn(styles.container, \"mt-10\")}>\n      <h1 className=\"text text_type_main-large mb-5\">Лента заказов</h1>\n      <section className={styles.content}>\n        {error && (\n          <p className={cn(styles.error, \"text text_type_main-default\")}>\n            Что-то пошло не так. {error}\n          </p>\n        )}\n        <ul className={cn(styles.orderList, \"mr-15\")} ref={orderListRef}>\n          {loading && (\n            <Skeleton\n              className={cn(styles.skeletonOrder, \"mb-4 mr-2\")}\n              repeat={2}\n              tag=\"li\"\n            />\n          )}\n          {ordersList.map((order) => (\n            <li className=\"mb-4 mr-2\" key={order.number}>\n              <OrderItem order={order} />\n            </li>\n          ))}\n        </ul>\n        <section className={styles.statistic} ref={statisticRef}>\n          <section className={styles.statisticGrid}>\n            <StatisticGridItem\n              className=\"mr-9\"\n              title=\"Готовы:\"\n              loading={loading}\n              orders={completeNumbers}\n              complete={true}\n            />\n            <StatisticGridItem\n              title=\"В работе:\"\n              loading={loading}\n              orders={progressNumbers}\n            />\n          </section>\n          {total > 0 && (\n            <>\n              <h2 className=\"text text_type_main-medium mt-15\">\n                Выполнено за все время:\n              </h2>\n              <p\n                className={cn(\n                  appStyles.textSpaceShadow,\n                  \"text text_type_digits-large\"\n                )}\n              >\n                {total}\n              </p>\n              <h2 className=\"text text_type_main-medium mt-15\">\n                Выполнено за сегодня:\n              </h2>\n              <p\n                className={cn(\n                  appStyles.textSpaceShadow,\n                  \"text text_type_digits-large\"\n                )}\n              >\n                {totalToday}\n              </p>\n            </>\n          )}\n        </section>\n      </section>\n    </section>\n  );\n}\n","import { useRef, memo, RefObject } from \"react\";\nimport cn from \"classnames\";\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport { formatPastDate } from \"../../services/utils\";\nimport { useScrollbar } from \"../../services/scrollbar\";\nimport { translateStatus } from \"../../services/orders\";\n\nimport IngredientAvatar from \"../ingredient-avatar/ingredient-avatar\";\n\nimport { IFullOrder, IOrderIngredient } from \"../../services/types/data\";\n\nimport styles from \"./order-info.module.css\";\n\ninterface IIngredientsProps {\n  ingredients: IOrderIngredient[];\n  listRef: RefObject<HTMLUListElement>;\n}\n\nconst Ingredients: React.FC<IIngredientsProps> = ({\n  ingredients = [],\n  listRef,\n}) => {\n  return (\n    <ul className={styles.ingredientList} ref={listRef}>\n      {ingredients.map(({ image, name, count, price }, index) => (\n        <li className={cn(styles.ingredient, \"mb-4 mr-6\")} key={index}>\n          <IngredientAvatar image={image} />\n          <p\n            className={cn(\n              styles.ingredientName,\n              \"text text_type_main-default ml-4\"\n            )}\n          >\n            {name}\n          </p>\n          <div className={styles.price}>\n            <p className=\"text text_type_digits-default mr-2\">\n              {count} x {price}\n            </p>\n            <p className=\"text\">\n              <CurrencyIcon type=\"primary\" />\n            </p>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\ninterface IOrderInfoProps {\n  order: IFullOrder;\n  isInModal?: boolean;\n}\n\nconst OrderInfo: React.FC<IOrderInfoProps> = memo(\n  ({ order, isInModal = false }) => {\n    const listRef = useRef<HTMLUListElement>(null);\n    const footerRef = useRef<HTMLElement>(null);\n\n    useScrollbar(listRef, { exclude: footerRef, maxHeight: 312, isInModal });\n\n    return (\n      <section className={cn(styles.container)}>\n        <h1 className=\"text text_type_main-medium mt-5\">{order.name}</h1>\n        {order.status && (\n          <p\n            className={cn(\"text text_type_main-default pt-3\", {\n              [styles.statusDone]: order.status === \"done\",\n            })}\n          >\n            {translateStatus(order.status)}\n          </p>\n        )}\n        <section className={cn(\"mt-15\")}>\n          <h1 className=\"text text_type_main-medium mb-6\">Состав:</h1>\n          <Ingredients ingredients={order.ingredients} listRef={listRef} />\n        </section>\n        <footer className={cn(styles.footer, \"mt-10\")} ref={footerRef}>\n          <span className=\"text text_type_main-default text_color_inactive\">\n            {formatPastDate(order.createdAt)}\n          </span>\n          <div className={styles.price}>\n            <p className=\"text text_type_digits-default mr-2\">{order.price}</p>\n            <p className=\"text\">\n              <CurrencyIcon type=\"primary\" />\n            </p>\n          </div>\n        </footer>\n      </section>\n    );\n  }\n);\n\nexport default OrderInfo;\n","import cn from \"classnames\";\nimport { useParams } from \"react-router-dom\";\n\nimport OrderInfo from \"../components/order-info/order-info\";\nimport Skeleton from \"../components/skeleton/skeleton\";\nimport { useOrderLoad } from \"../services/orders\";\nimport styles from \"./order.module.css\";\n\nexport function OrderPage() {\n  const { id } = useParams<{ id: string }>();\n\n  const { order, loading, error } = useOrderLoad(id);\n\n  if (error) {\n    return (\n      <section\n        className={cn(\n          styles.container,\n          \"mt-2 mb-2 text text_type_main-default\"\n        )}\n      >\n        <p className={styles.error}>\n          Не удалось найти заказ {id}.<br /> {error}\n        </p>\n      </section>\n    );\n  }\n\n  if (loading) {\n    return (\n      <section className={cn(styles.container, \"mt-2 mb-2\")}>\n        <div className={styles.center}>\n          <Skeleton\n            width={200}\n            className={\"text text_type_digits-default mb-10\"}\n          />\n        </div>\n        <Skeleton repeat={2} className=\"text text_type_main-medium mt-5\" />\n        <div className=\"mt-15\">\n          <Skeleton width={64} circle={true} className=\"mr-4\" />\n          <Skeleton width=\"60%\" className=\"text text_type_main-default mt-6\" />\n        </div>\n        <div className=\"mt-4\">\n          <Skeleton width={64} height={64} circle={true} className=\"mr-4\" />\n          <Skeleton width=\"60%\" className=\"text text_type_main-default mt-6\" />\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    order && (\n      <section className={cn(styles.container, \"mt-2 mb-2\")}>\n        <h2\n          className={cn(styles.center, \"text text_type_digits-default mb-10\")}\n        >\n          #{order.number}\n        </h2>\n        <OrderInfo order={order} />\n      </section>\n    )\n  );\n}\n","import { useState, useEffect, memo } from \"react\";\nimport cn from \"classnames\";\n\nimport styles from \"./ingredient-details.module.css\";\nimport { IIngredient } from \"../../services/types/data\";\n\nfunction useImageLoading(src: string) {\n  const [isLoading, setLoading] = useState(true);\n\n  const loadImage = async (src: string) => {\n    if (!src) return;\n    const img = new Image();\n    img.src = src;\n\n    return new Promise((resolve, reject) => {\n      img.onload = () => resolve(src);\n      img.onerror = reject;\n    });\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    if (src) {\n      loadImage(src).then(() => setLoading(false));\n    }\n  }, [src]);\n\n  return isLoading;\n}\n\ninterface IngredientDetailsProps {\n  ingredient: IIngredient;\n}\n\nconst IngredientDetails: React.FC<IngredientDetailsProps> = memo(\n  ({ ingredient }) => {\n    const imageLoading = useImageLoading(ingredient.image_large);\n\n    return (\n      <div className={cn(styles.container, \"pl-15 pr-15 pb-5\")}>\n        {imageLoading ? (\n          <div className={styles.imagePreloader}></div>\n        ) : (\n          <img\n            className={styles.image}\n            src={ingredient.image_large}\n            alt={ingredient.name}\n          />\n        )}\n        <h1\n          className={cn(styles.title, \"text text_type_main-medium mt-4 mb-8\")}\n        >\n          {ingredient.name}\n        </h1>\n        <dl className={cn(styles.content, \"text text_type_main-default\")}>\n          <div>\n            <dt>Калории, ккал</dt>\n            <dd className=\"text text_type_digits-default mt-2\">\n              {ingredient.calories}\n            </dd>\n          </div>\n          <div>\n            <dt>Белки, г</dt>\n            <dd className=\"text text_type_digits-default mt-2\">\n              {ingredient.proteins}\n            </dd>\n          </div>\n          <div>\n            <dt>Жиры, г</dt>\n            <dd className=\"text text_type_digits-default mt-2\">\n              {ingredient.fat}\n            </dd>\n          </div>\n          <div>\n            <dt>Углеводы, г</dt>\n            <dd className=\"text text_type_digits-default mt-2\">\n              {ingredient.carbohydrates}\n            </dd>\n          </div>\n        </dl>\n      </div>\n    );\n  }\n);\n\nexport default IngredientDetails;\n","import { useLayoutEffect } from \"react\";\nimport cn from \"classnames\";\nimport { useParams } from \"react-router-dom\";\n\nimport { useSelector, useDispatch } from \"../services/hooks\";\n\nimport Skeleton from \"../components/skeleton/skeleton\";\nimport IngredientDetails from \"../components/ingredient-details/ingredient-details\";\n\nimport { getIngredients } from \"../services/actions/ingredients\";\n\nimport styles from \"./ingredient.module.css\";\n\nconst skeleton = (\n  <div>\n    <Skeleton width=\"80%\" className=\"text text_type_main-large\" />\n    <Skeleton width={480} height={240} className=\"mt-4 mb-8\" />\n    <Skeleton height={30} className=\"mt-4\" repeat={3} />\n  </div>\n);\nexport function IngredientPage() {\n  const { id } = useParams<{ id: string }>();\n  const dispatch = useDispatch();\n\n  const {\n    items: ingredients,\n    itemsErrorMessage: error,\n    itemsRequest: loading,\n  } = useSelector((store) => store.ingredients);\n\n  useLayoutEffect(() => {\n    if (ingredients.length === 0) {\n      dispatch(getIngredients());\n    }\n  }, [ingredients.length, dispatch]);\n\n  const ingredient = ingredients.find(({ _id }) => _id === id);\n  return (\n    <section className={cn(styles.container)}>\n      {loading && skeleton}\n      {error && (\n        <p className={cn(styles.error, \"text text_type_main-default\")}>\n          Ошибка загрузки данных. {error}\n        </p>\n      )}\n      {ingredient && (\n        <>\n          <h1 className=\"text text_type_main-large\">Детали ингредиента</h1>\n          <IngredientDetails ingredient={ingredient} />\n        </>\n      )}\n      {!error && !loading && !ingredient && (\n        <p className=\"text text_type_main-default\">\n          Увы, не удалось найти ингредиент.\n        </p>\n      )}\n    </section>\n  );\n}\n","export function NotFound404() {\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <p className=\"text text_type_digits-large mt-20\">\n        404\n      </p>\n      <p className=\"text text_type_main-medium text_color_inactive mt-5\">\n        Упс!\n      </p>\n      <p className=\"text text_type_main-medium text_color_inactive mt-5\">\n        Кажется, мы её потеряли...\n      </p>\n    </div>\n  );\n}\n","import { ReactNode } from \"react\";\nimport cn from \"classnames\";\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport { BurgerIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport styles from \"./header-item.module.css\";\n\ninterface IHeaderItemProps {\n  icon: typeof BurgerIcon;\n  path: string;\n  children: ReactNode;\n}\n\nconst HeaderItem: React.FC<IHeaderItemProps> = ({\n  icon: Icon,\n  children,\n  path,\n}) => {\n  const match = useRouteMatch({ path, exact: path === \"/\" });\n  return (\n    <Link\n      className={cn(\n        styles.container,\n        \"text text_type_main-default pl-5 pr-5 pt-4 pb-4\"\n      )}\n      to={path}\n    >\n      <Icon type={match ? \"primary\" : \"secondary\"} />\n      <span className={cn({ text_color_inactive: !match }, \"ml-2\")}>\n        {children}\n      </span>\n    </Link>\n  );\n};\n\nexport default HeaderItem;\n","import styles from \"./app-header.module.css\";\n\nimport { Link } from \"react-router-dom\";\nimport cn from \"classnames\";\nimport {\n  BurgerIcon,\n  ListIcon,\n  Logo,\n  ProfileIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport HeaderItem from \"./header-item/header-item\";\n\nconst AppHeader: React.FC = () => {\n  return (\n    <header className={cn(styles.header)}>\n      <ul className={styles.content}>\n        <li className={styles.contentItem}>\n          <nav className={cn(styles.navigation, \"mt-4 mb-4\")}>\n            <ul>\n              <li>\n                <HeaderItem icon={BurgerIcon} path=\"/\">\n                  Конструктор\n                </HeaderItem>\n              </li>\n              <li className={cn(\"ml-2\")}>\n                <HeaderItem icon={ListIcon} path=\"/feed\">\n                  Лента заказов\n                </HeaderItem>\n              </li>\n            </ul>\n          </nav>\n        </li>\n        <li className={styles.contentItemCenter}>\n          <Link to=\"/\">\n            <Logo />\n          </Link>\n        </li>\n        <li className={styles.contentItemRight}>\n          <HeaderItem icon={ProfileIcon} path=\"/profile\">\n            Личный кабинет\n          </HeaderItem>\n        </li>\n      </ul>\n    </header>\n  );\n};\n\nexport default AppHeader;\n","import React from \"react\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\n\nimport { useAuth } from \"../services/auth\";\nimport Spinner from \"./spinner/spinner\";\n\ninterface IProtectedRouteProps extends RouteProps {\n  children: React.ReactNode;\n}\n\nexport const ProtectedRoute: React.FC<IProtectedRouteProps> = ({\n  children,\n  ...rest\n}) => {\n  const { user, userLoaded } = useAuth();\n\n  if (!userLoaded) {\n    return <Spinner center={true} />;\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n","import { useAuth } from \"../services/auth\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\nimport Spinner from \"./spinner/spinner\";\n\ninterface IUnauthorizedRouteProps extends RouteProps {\n  children: React.ReactNode;\n}\n\nexport const UnauthorizedRoute: React.FC<IUnauthorizedRouteProps> = ({\n  children,\n  ...rest\n}) => {\n  const { user, userLoaded } = useAuth();\n\n  if (!userLoaded) {\n    return <Spinner center={true} />;\n  }\n\n  return (\n    <Route {...rest} render={() => (user ? <Redirect to=\"/\" /> : children)} />\n  );\n};\n","import { memo, useCallback } from \"react\";\nimport { useSelector } from \"../../services/hooks\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Modal from \"../modal/modal\";\nimport IngredientDetails from \"../ingredient-details/ingredient-details\";\n\nconst IngredientDetailsModal: React.FC = memo(() => {\n  const { id } = useParams<{ id: string }>();\n  const history = useHistory();\n  const { items: ingredients } = useSelector((store) => store.ingredients);\n\n  const ingredient = ingredients.find(({ _id }) => _id === id) || null;\n\n  const modalOnClose = useCallback(() => {\n    history.goBack();\n  }, [history]);\n\n  return (\n    ingredient && (\n      <Modal header=\"Детали ингридиента\" visible={true} onClose={modalOnClose}>\n        <IngredientDetails ingredient={ingredient} />\n      </Modal>\n    )\n  );\n});\n\nexport default IngredientDetailsModal;\n","import { memo, useCallback } from \"react\";\nimport OrderInfo from \"../order-info/order-info\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { useSelector } from \"../../services/hooks\";\n\nimport { useOrders } from \"../../services/orders\";\n\nimport Modal from \"../modal/modal\";\n\nconst OrderInfoModal: React.FC = memo(() => {\n  const { id } = useParams<{ id: string }>();\n  const history = useHistory();\n  const location = useLocation();\n\n  const { orders: feedOrders } = useSelector((store) => store.feed);\n  const { orders: profileOrders } = useSelector((store) => store.profile);\n\n  const orders = location.pathname.startsWith(\"/feed\")\n    ? feedOrders\n    : profileOrders;\n\n  const { ordersList } = useOrders(orders);\n\n  const order = ordersList.find(({ number }) => number === Number(id)) || null;\n\n  const modalOnClose = useCallback(() => {\n    history.goBack();\n  }, [history]);\n\n  const header = order && (\n    <div className=\"text text_type_digits-default\">#{order.number}</div>\n  );\n\n  return (\n    order && (\n      <Modal header={header} visible={true} onClose={modalOnClose}>\n        <OrderInfo order={order} isInModal={true} />\n      </Modal>\n    )\n  );\n});\n\nexport default OrderInfoModal;\n","import styles from \"./app.module.css\";\n\nimport { Switch, Route, useLocation, useHistory } from \"react-router-dom\";\n\nimport { Location } from \"history\";\n\nimport {\n  HomePage,\n  LoginPage,\n  RegisterPage,\n  ForgotPasswordPage,\n  ResetPasswordPage,\n  ProfilePage,\n  OrderPage,\n  FeedPage,\n  IngredientPage,\n  NotFound404,\n} from \"../../pages\";\nimport AppHeader from \"../app-header/app-header\";\nimport { ProtectedRoute } from \"../protected-route\";\nimport { UnauthorizedRoute } from \"../unauthorized-route\";\nimport IngredientDetailsModal from \"../ingredient-details-modal/ingredient-details-modal\";\nimport OrderInfoModal from \"../order-info-modal/order-info-modal\";\n\nconst App: React.FC = () => {\n  const location = useLocation<{ background?: Location }>();\n  const history = useHistory();\n  const background = history.action === \"PUSH\" && location.state?.background;\n  return (\n    <div className={styles.app}>\n      <AppHeader />\n      <main className={styles.main}>\n        <Switch location={background || location}>\n          <Route path=\"/\" exact={true}>\n            <HomePage />\n          </Route>\n          <Route path=\"/login\" exact={true}>\n            <LoginPage />\n          </Route>\n          <UnauthorizedRoute path=\"/register\" exact={true}>\n            <RegisterPage />\n          </UnauthorizedRoute>\n          <UnauthorizedRoute path=\"/forgot-password\" exact={true}>\n            <ForgotPasswordPage />\n          </UnauthorizedRoute>\n          <UnauthorizedRoute path=\"/reset-password\" exact={true}>\n            <ResetPasswordPage />\n          </UnauthorizedRoute>\n          <ProtectedRoute path=\"/profile/orders/:id\" exact={true}>\n            <OrderPage />\n          </ProtectedRoute>\n          <ProtectedRoute path=\"/profile\">\n            <ProfilePage />\n          </ProtectedRoute>\n          <Route path=\"/feed/:id\" exact={true}>\n            <OrderPage />\n          </Route>\n          <Route path=\"/feed\" exact={true}>\n            <FeedPage />\n          </Route>\n          <Route path=\"/ingredients/:id\" exact={true}>\n            <IngredientPage />\n          </Route>\n          <Route>\n            <NotFound404 />\n          </Route>\n        </Switch>\n      </main>\n      {background && (\n        <Route path=\"/ingredients/:id\">\n          <IngredientDetailsModal />\n        </Route>\n      )}\n      {background && (\n        <Route path=\"/profile/orders/:id\">\n          <OrderInfoModal />\n        </Route>\n      )}\n      {background && (\n        <Route path=\"/feed/:id\">\n          <OrderInfoModal />\n        </Route>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n  GET_INGREDIENTS_REQUEST,\n  GET_INGREDIENTS_SUCCESS,\n  GET_INGREDIENTS_ERROR,\n} from \"../actions/ingredients\";\n\nimport { TIngredientsActions } from \"../actions/ingredients\";\nimport { IIngredient } from \"../types/data\";\n\nexport interface IIngredientsState {\n  items: IIngredient[];\n  itemsRequest: boolean;\n  itemsSuccess: boolean;\n  itemsErrorMessage: string;\n}\n\nconst ingredientsState: IIngredientsState = {\n  items: [],\n  itemsRequest: false,\n  itemsSuccess: false,\n  itemsErrorMessage: \"\",\n};\n\nexport const ingredientsReducer = (\n  state: IIngredientsState = ingredientsState,\n  action: TIngredientsActions\n) => {\n  switch (action.type) {\n    case GET_INGREDIENTS_REQUEST:\n      return {\n        ...state,\n        itemsRequest: true,\n        itemsSuccess: false,\n        itemsErrorMessage: \"\",\n      };\n\n    case GET_INGREDIENTS_SUCCESS:\n      return {\n        ...state,\n        itemsRequest: false,\n        itemsSuccess: true,\n        itemsErrorMessage: \"\",\n        items: action.items,\n      };\n\n    case GET_INGREDIENTS_ERROR:\n      return {\n        ...state,\n        itemsRequest: false,\n        itemsSuccess: false,\n        itemsErrorMessage: action.message,\n        items: [],\n      };\n\n    default:\n      return state;\n  }\n};\n","import {\n  ADD_CONSTRUCTOR_INGREDIENT,\n  REMOVE_CONSTRUCTOR_INGREDIENT,\n  REORDER_CONSTRUCTOR_INGREDIENTS,\n  CLEAR_CONSTRUCTOR,\n} from \"../actions/constructor\";\n\nimport { TConstructorActions } from \"../actions/constructor\";\nimport { IIngredient, IConstructorIngredient } from \"../types/data\";\n\nfunction countTotalPrice(\n  items: IConstructorIngredient[] = [],\n  bunItem: IIngredient | null\n) {\n  return (\n    items.reduce((prev, value) => prev + value.price, 0) +\n    (bunItem?.price || 0) * 2\n  );\n}\n\nexport interface IConstructorState {\n  items: IConstructorIngredient[];\n  bunItem: IIngredient | null;\n  totalPrice: number;\n}\n\nconst constructorState: IConstructorState = {\n  items: [],\n  bunItem: null,\n  totalPrice: 0,\n};\n\nexport const constructorReducer = (\n  state: IConstructorState = constructorState,\n  action: TConstructorActions\n) => {\n  switch (action.type) {\n    case ADD_CONSTRUCTOR_INGREDIENT:\n      const item = action.item;\n\n      if (item.type === \"bun\") {\n        return {\n          ...state,\n          bunItem: item,\n          totalPrice: countTotalPrice(state.items, item),\n        };\n      } else {\n        const items = [\n          ...state.items,\n          {\n            ...item,\n            key: item._id + new Date().getTime(),\n          },\n        ];\n        return {\n          ...state,\n          items,\n          totalPrice: countTotalPrice(items, state.bunItem),\n        };\n      }\n\n    case REMOVE_CONSTRUCTOR_INGREDIENT:\n      const items = state.items.filter(({ key }) => key !== action.item.key);\n      return {\n        ...state,\n        items,\n        totalPrice: countTotalPrice(items, state.bunItem),\n      };\n\n    case REORDER_CONSTRUCTOR_INGREDIENTS: {\n      const items = state.items;\n      const dropItem = items[action.dropIndex];\n\n      return {\n        ...state,\n        items: [\n          ...items\n            .slice(0, action.hoverIndex + 1)\n            .filter(({ key }) => key !== dropItem.key),\n          dropItem,\n          ...items\n            .slice(action.hoverIndex + 1)\n            .filter(({ key }) => key !== dropItem.key),\n        ],\n      };\n    }\n\n    case CLEAR_CONSTRUCTOR:\n      return constructorState;\n\n    default:\n      return state;\n  }\n};\n","import {\n  CHECKOUT_ORDER_REQUEST,\n  CHECKOUT_ORDER_SUCCESS,\n  CHECKOUT_ORDER_ERROR,\n  CLEAR_ORDER,\n} from \"../actions/order\";\n\nimport { TOrderActions } from \"../actions/order\";\n\nexport interface IOrderState {\n  number: number | null;\n  checkoutRequest: boolean;\n  checkoutSuccess: boolean;\n  checkoutErrorMessage: string;\n}\n\nconst orderState: IOrderState = {\n  number: null,\n  checkoutRequest: false,\n  checkoutSuccess: false,\n  checkoutErrorMessage: \"\",\n};\n\nexport const orderReducer = (\n  state: IOrderState = orderState,\n  action: TOrderActions\n) => {\n  switch (action.type) {\n    case CHECKOUT_ORDER_REQUEST:\n      return {\n        ...state,\n        checkoutRequest: true,\n        checkoutSuccess: false,\n        checkoutErrorMessage: \"\",\n        number: null,\n      };\n\n    case CHECKOUT_ORDER_SUCCESS:\n      return {\n        ...state,\n        checkoutRequest: false,\n        checkoutSuccess: true,\n        number: action.number,\n      };\n\n    case CHECKOUT_ORDER_ERROR:\n      return {\n        ...state,\n        checkoutRequest: false,\n        checkoutSuccess: false,\n        checkoutErrorMessage: action.message,\n      };\n\n    case CLEAR_ORDER:\n      return orderState;\n\n    default:\n      return state;\n  }\n};\n","import {\n  GET_USER_REQUEST,\n  GET_USER_SUCCESS,\n  GET_USER_ERROR,\n  SET_USER,\n  CLEAR_USER,\n} from \"../actions/user\";\n\nimport { TUserActions } from \"../actions/user\";\nimport { IUser } from \"../types/data\";\n\nexport interface IUserState {\n  user: IUser | null;\n  userRequest: boolean;\n  userSuccess: boolean;\n  userErrorMessage: string;\n}\n\nconst userState: IUserState = {\n  user: null,\n  userRequest: false,\n  userSuccess: false,\n  userErrorMessage: \"\",\n};\n\nexport const userReducer = (\n  state: IUserState = userState,\n  action: TUserActions\n) => {\n  switch (action.type) {\n    case GET_USER_REQUEST:\n      return {\n        ...state,\n        userRequest: true,\n        userSuccess: false,\n        userErrorMessage: \"\",\n        user: null,\n      };\n\n    case GET_USER_SUCCESS:\n      return {\n        ...state,\n        userRequest: false,\n        userSuccess: true,\n        userErrorMessage: \"\",\n        user: action.user,\n      };\n\n    case GET_USER_ERROR:\n      return {\n        ...state,\n        userRequest: false,\n        userSuccess: false,\n        userErrorMessage: action.message,\n        user: null,\n      };\n\n    case SET_USER:\n      return {\n        ...state,\n        user: action.user,\n      };\n\n    case CLEAR_USER:\n      return {\n        ...state,\n        user: null,\n      };\n\n    default:\n      return state;\n  }\n};\n","import {\n  WS_FEED_CONNECTION_SUCCESS,\n  WS_FEED_CONNECTION_ERROR,\n  WS_FEED_CONNECTION_CLOSED,\n  WS_FEED_GET_MESSAGE,\n  TWsFeedActions,\n} from \"../actions/ws-feed\";\nimport { IOrder } from \"../types/data\";\n\nexport interface IWsFeedState {\n  orders: IOrder[];\n  total: number;\n  totalToday: number;\n  wsConnected: boolean;\n  wsError: string;\n}\n\nconst initialState: IWsFeedState = {\n  wsConnected: false,\n  wsError: \"\",\n  orders: [],\n  total: 0,\n  totalToday: 0,\n};\n\nexport const wsFeedReducer = (\n  state: IWsFeedState = initialState,\n  action: TWsFeedActions\n) => {\n  switch (action.type) {\n    case WS_FEED_CONNECTION_SUCCESS:\n      return {\n        ...state,\n        wsError: \"\",\n        wsConnected: true,\n      };\n\n    case WS_FEED_CONNECTION_ERROR:\n      return {\n        ...state,\n        wsError: action.payload.message,\n        wsConnected: false,\n      };\n\n    case WS_FEED_CONNECTION_CLOSED:\n      return {\n        ...state,\n        wsError: \"\",\n        wsConnected: false,\n      };\n\n    case WS_FEED_GET_MESSAGE:\n      if (action.payload.message) {\n        return {\n          ...state,\n          wsError: action.payload.message,\n          orders: [],\n          total: 0,\n          totalToday: 0,\n        };\n      }\n\n      return {\n        ...state,\n        wsError: \"\",\n        orders: action.payload.orders,\n        total: action.payload.total,\n        totalToday: action.payload.totalToday,\n      };\n\n    default:\n      return state;\n  }\n};\n","import {\n  WS_PROFILE_CONNECTION_SUCCESS,\n  WS_PROFILE_CONNECTION_ERROR,\n  WS_PROFILE_CONNECTION_CLOSED,\n  WS_PROFILE_GET_MESSAGE,\n} from \"../actions/ws-profile\";\n\nimport { TWsProfileActions } from \"../actions/ws-profile\";\nimport { IOrder } from \"../types/data\";\n\nexport interface IWsProfileState {\n  orders: IOrder[];\n  wsConnected: boolean;\n  wsError: string;\n}\n\nconst initialState: IWsProfileState = {\n  wsConnected: false,\n  wsError: \"\",\n  orders: [],\n};\n\nexport const wsProfileReducer = (\n  state: IWsProfileState = initialState,\n  action: TWsProfileActions\n) => {\n  switch (action.type) {\n    case WS_PROFILE_CONNECTION_SUCCESS:\n      return {\n        ...state,\n        wsError: \"\",\n        wsConnected: true,\n      };\n\n    case WS_PROFILE_CONNECTION_ERROR:\n      return {\n        ...state,\n        wsError: action.payload.message,\n        wsConnected: false,\n      };\n\n    case WS_PROFILE_CONNECTION_CLOSED:\n      return {\n        ...state,\n        wsError: \"\",\n        wsConnected: false,\n      };\n\n    case WS_PROFILE_GET_MESSAGE:\n      if (action.payload.message) {\n        return {\n          ...state,\n          wsError: action.payload.message,\n          orders: [],\n        };\n      }\n\n      return {\n        ...state,\n        wsError: \"\",\n        orders: action.payload.orders,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { ingredientsReducer } from \"./ingredients\";\nimport { constructorReducer } from \"./constructor\";\nimport { orderReducer } from \"./order\";\nimport { userReducer } from \"./user\";\nimport { wsFeedReducer } from \"./ws-feed\";\nimport { wsProfileReducer } from \"./ws-profile\";\n\nexport const rootReducer = combineReducers({\n  ingredients: ingredientsReducer,\n  construct: constructorReducer,\n  order: orderReducer,\n  user: userReducer,\n  feed: wsFeedReducer,\n  profile: wsProfileReducer,\n});\n","import { Middleware, Dispatch } from \"redux\";\nimport { getCookie } from \"./utils\";\nimport { refreshToken } from \"./api\";\nimport { rootReducer } from \"./reducers\";\nimport {\n  WS_FEED_CONNECTION_START,\n  WS_FEED_CONNECTION_CLOSE,\n  WS_FEED_SEND_MESSAGE,\n  WS_FEED_CONNECTION_SUCCESS,\n  WS_FEED_CONNECTION_CLOSED,\n  WS_FEED_CONNECTION_ERROR,\n  WS_FEED_GET_MESSAGE,\n  TWsFeedActions,\n} from \"./actions/ws-feed\";\n\nimport {\n  WS_PROFILE_CONNECTION_START,\n  WS_PROFILE_CONNECTION_CLOSE,\n  WS_PROFILE_SEND_MESSAGE,\n  WS_PROFILE_CONNECTION_SUCCESS,\n  WS_PROFILE_CONNECTION_CLOSED,\n  WS_PROFILE_CONNECTION_ERROR,\n  WS_PROFILE_GET_MESSAGE,\n  TWsProfileActions,\n} from \"./actions/ws-profile\";\n\ntype TWsActions = {\n  wsInit: typeof WS_FEED_CONNECTION_START | typeof WS_PROFILE_CONNECTION_START;\n  wsClose: typeof WS_FEED_CONNECTION_CLOSE | typeof WS_PROFILE_CONNECTION_CLOSE;\n  wsSendMessage: typeof WS_FEED_SEND_MESSAGE | typeof WS_PROFILE_SEND_MESSAGE;\n  onOpen:\n    | typeof WS_FEED_CONNECTION_SUCCESS\n    | typeof WS_PROFILE_CONNECTION_SUCCESS;\n  onClose:\n    | typeof WS_FEED_CONNECTION_CLOSED\n    | typeof WS_PROFILE_CONNECTION_CLOSED;\n  onError: typeof WS_FEED_CONNECTION_ERROR | typeof WS_PROFILE_CONNECTION_ERROR;\n  onMessage: typeof WS_FEED_GET_MESSAGE | typeof WS_PROFILE_GET_MESSAGE;\n};\n\nexport const socketMiddleware = (\n  wsUrl: string,\n  wsActions: TWsActions,\n  useToken?: boolean\n): Middleware<\n  {},\n  ReturnType<typeof rootReducer>,\n  Dispatch<TWsFeedActions | TWsProfileActions>\n> => {\n  return (store) => {\n    let socket: WebSocket | null = null;\n\n    return (next) => (action) => {\n      const { dispatch } = store;\n      const { type, payload } = action;\n      const {\n        wsInit,\n        wsClose,\n        wsSendMessage,\n        onOpen,\n        onClose,\n        onError,\n        onMessage,\n      } = wsActions;\n      if (type === wsInit) {\n        let url = wsUrl;\n        if (useToken) {\n          const accessToken = getCookie(\"accessToken\");\n          url += `?token=${accessToken}`;\n        }\n        socket = new WebSocket(url);\n      }\n      if (socket) {\n        socket.onopen = (event) => {\n          dispatch({ type: onOpen, payload: event });\n        };\n\n        socket.onerror = (event) => {\n          dispatch({\n            type: onError,\n            payload: { message: \"Ошибка соединения\" },\n          });\n        };\n\n        socket.onmessage = (event) => {\n          const { data } = event;\n          const parsedData = JSON.parse(data);\n          const { success, ...restParsedData } = parsedData;\n\n          if (\n            restParsedData.message &&\n            restParsedData.message === \"Invalid or missing token\" &&\n            socket\n          ) {\n            socket.close();\n            refreshToken().then(() => {\n              dispatch({ type: wsInit });\n            });\n          } else {\n            dispatch({ type: onMessage, payload: restParsedData });\n          }\n        };\n\n        socket.onclose = (event) => {\n          dispatch({ type: onClose });\n        };\n\n        if (type === wsSendMessage) {\n          const message = { ...payload };\n          socket.send(JSON.stringify(message));\n        }\n\n        if (type === wsClose) {\n          socket.close();\n          socket = null;\n        }\n      }\n\n      next(action);\n    };\n  };\n};\n","import { compose, createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport { rootReducer } from \"./reducers\";\nimport { socketMiddleware } from \"./socket-middleware\";\nimport {\n  WS_FEED_CONNECTION_START,\n  WS_FEED_CONNECTION_CLOSE,\n  WS_FEED_SEND_MESSAGE,\n  WS_FEED_CONNECTION_SUCCESS,\n  WS_FEED_CONNECTION_CLOSED,\n  WS_FEED_CONNECTION_ERROR,\n  WS_FEED_GET_MESSAGE,\n} from \"./actions/ws-feed\";\n\nimport {\n  WS_PROFILE_CONNECTION_START,\n  WS_PROFILE_CONNECTION_CLOSE,\n  WS_PROFILE_SEND_MESSAGE,\n  WS_PROFILE_CONNECTION_SUCCESS,\n  WS_PROFILE_CONNECTION_CLOSED,\n  WS_PROFILE_CONNECTION_ERROR,\n  WS_PROFILE_GET_MESSAGE,\n} from \"./actions/ws-profile\";\n\nconst wsFeedOrders = {\n  url: \"wss://norma.nomoreparties.space/orders/all\",\n  actions: {\n    wsInit: WS_FEED_CONNECTION_START,\n    wsClose: WS_FEED_CONNECTION_CLOSE,\n    wsSendMessage: WS_FEED_SEND_MESSAGE,\n    onOpen: WS_FEED_CONNECTION_SUCCESS,\n    onClose: WS_FEED_CONNECTION_CLOSED,\n    onError: WS_FEED_CONNECTION_ERROR,\n    onMessage: WS_FEED_GET_MESSAGE,\n  },\n};\n\nconst wsProfileOrders = {\n  url: \"wss://norma.nomoreparties.space/orders\",\n  actions: {\n    wsInit: WS_PROFILE_CONNECTION_START,\n    wsClose: WS_PROFILE_CONNECTION_CLOSE,\n    wsSendMessage: WS_PROFILE_SEND_MESSAGE,\n    onOpen: WS_PROFILE_CONNECTION_SUCCESS,\n    onClose: WS_PROFILE_CONNECTION_CLOSED,\n    onError: WS_PROFILE_CONNECTION_ERROR,\n    onMessage: WS_PROFILE_GET_MESSAGE,\n  },\n};\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(\n    thunk,\n    socketMiddleware(wsFeedOrders.url, wsFeedOrders.actions),\n    socketMiddleware(wsProfileOrders.url, wsProfileOrders.actions, true)\n  )\n);\n\nexport default createStore(rootReducer, enhancer);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/app/app\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./services/store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router basename=\"/react-burger\">\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"feed_container__1womP\",\"content\":\"feed_content__3ZfI4\",\"orderList\":\"feed_orderList__1PpT4\",\"statistic\":\"feed_statistic__3GNTH\",\"statisticGrid\":\"feed_statisticGrid__1ZOHC\",\"statisticGridItem\":\"feed_statisticGridItem__1NvIS\",\"statisticGridItemList\":\"feed_statisticGridItemList__3K1R6\",\"success\":\"feed_success__3Grio\",\"error\":\"feed_error__3ukov\",\"skeletonOrder\":\"feed_skeletonOrder__lmqkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"burger-ingredients_container__g3Y-c\",\"tabs\":\"burger-ingredients_tabs__11tAC\",\"ingredientList\":\"burger-ingredients_ingredientList__1udKK\",\"ingredients\":\"burger-ingredients_ingredients__3JkVS\",\"ingredient\":\"burger-ingredients_ingredient__2d4AW\",\"enter\":\"burger-ingredients_enter___35Li\",\"enterActive\":\"burger-ingredients_enterActive__1L7vt\",\"exit\":\"burger-ingredients_exit__2Ngrf\",\"exitActive\":\"burger-ingredients_exitActive__1JkWc\",\"hidden\":\"burger-ingredients_hidden__aAB8A\",\"error\":\"burger-ingredients_error__28FCP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__1iO2A\",\"main\":\"app_main__2xlwg\",\"customScrollbar\":\"app_customScrollbar__9oUGE\",\"textSpaceShadow\":\"app_textSpaceShadow__oE2Xy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"burger-constructor_container__6B1um\",\"elements\":\"burger-constructor_elements__3rOpg\",\"dragMessage\":\"burger-constructor_dragMessage__1qReQ\",\"dragMessageOver\":\"burger-constructor_dragMessageOver__2sNJV\",\"elementsScroll\":\"burger-constructor_elementsScroll__6hMO9 burger-constructor_elements__3rOpg\",\"footer\":\"burger-constructor_footer__bba9V\",\"error\":\"burger-constructor_error__3PhHj\",\"center\":\"burger-constructor_center__rnF9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"order-item_container__21HZr\",\"header\":\"order-item_header__2eoTj\",\"statusDone\":\"order-item_statusDone__eoToN\",\"footer\":\"order-item_footer__4G-RR\",\"ingredientList\":\"order-item_ingredientList__1eMQg\",\"ingredient\":\"order-item_ingredient__aB_BS\",\"price\":\"order-item_price__2ByDf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"order-info_container__3Z36n\",\"statusDone\":\"order-info_statusDone__2YHWI\",\"footer\":\"order-info_footer__xrBia\",\"ingredientList\":\"order-info_ingredientList__2JmUv\",\"ingredient\":\"order-info_ingredient__11Y2M\",\"ingredientName\":\"order-info_ingredientName__2XXpq\",\"price\":\"order-info_price__29-XW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"order_container__109Bl\",\"center\":\"order_center__v0cy4\",\"error\":\"order_error__21SUu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__2gokJ\",\"content\":\"app-header_content__t8UHX\",\"contentItem\":\"app-header_contentItem__EEQMV\",\"contentItemCenter\":\"app-header_contentItemCenter__-07yp app-header_contentItem__EEQMV\",\"contentItemRight\":\"app-header_contentItemRight__3YCaq app-header_contentItem__EEQMV\",\"navigation\":\"app-header_navigation__1JSpu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"modal_container__3-3mw\",\"title\":\"modal_title__IJjDb\",\"content\":\"modal_content__2OuMO app_customScrollbar__9oUGE\",\"closeButton\":\"modal_closeButton__3REEC\",\"hidden\":\"modal_hidden__1bEaB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient-details_container__3MYGD\",\"title\":\"ingredient-details_title__1mCpc\",\"image\":\"ingredient-details_image__3PqS_\",\"imagePreloader\":\"ingredient-details_imagePreloader__1QTSj ingredient-details_image__3PqS_\",\"content\":\"ingredient-details_content__1ahpI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient_container__31Igb\",\"price\":\"ingredient_price__1pVsY\",\"title\":\"ingredient_title__1ll2v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"spinner_spinner__10eHT\",\"rotate\":\"spinner_rotate__37IgN\",\"spinnerCenter\":\"spinner_spinnerCenter__QRXSM\",\"circle\":\"spinner_circle__38GPX\",\"dash\":\"spinner_dash__1yuey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"register_container__3Jyyi\",\"error\":\"register_error__1WF_2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"reset-password_container__3QctV\",\"error\":\"reset-password_error__3D5Q8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"profile-form_form__2dmNA\",\"formFooter\":\"profile-form_formFooter__1Ed5L\",\"error\":\"profile-form_error__2I4gz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"ingredient-avatar_ingredient__15Zld\",\"ingredientImage\":\"ingredient-avatar_ingredientImage__2sdra\",\"ingredientFg\":\"ingredient-avatar_ingredientFg__-tQzF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skeleton\":\"skeleton_skeleton__2j3X9\",\"circle\":\"skeleton_circle__1J7KM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"order-details_container__21u_h\",\"title\":\"order-details_title__3cmiO app_textSpaceShadow__oE2Xy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"modal-overlay_container__1n_Ma\",\"hidden\":\"modal-overlay_hidden__17Rf-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"drag-element_container__3V56I\",\"dragItem\":\"drag-element_dragItem__7xK8c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"login_container__1FLBr\",\"error\":\"login_error__1rcy-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"forgot-password_container__7kREh\",\"error\":\"forgot-password_error__3ID3w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredient_container__3LfsL\",\"error\":\"ingredient_error__1v44w\"};"],"sourceRoot":""}